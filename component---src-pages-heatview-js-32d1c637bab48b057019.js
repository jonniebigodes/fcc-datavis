webpackJsonp([0x5b7c336e38da],{99:function(e,t,a){!function(e,a){a(t)}(this,function(e){"use strict";function t(e){return"translate("+(e+.5)+",0)"}function a(e){return"translate(0,"+(e+.5)+")"}function n(e){return function(t){return+e(t)}}function r(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(a){return+e(a)+t}}function o(){return!this.__axis}function l(e,l){function i(t){var a=null==s?l.ticks?l.ticks.apply(l,u):l.domain():s,i=null==c?l.tickFormat?l.tickFormat.apply(l,u):d:c,f=Math.max(v,0)+w,E=l.range(),T=+E[0]+.5,x=+E[E.length-1]+.5,L=(l.bandwidth?r:n)(l.copy()),H=t.selection?t.selection():t,D=H.selectAll(".domain").data([null]),O=H.selectAll(".tick").data(a,l).order(),V=O.exit(),S=O.enter().append("g").attr("class","tick"),j=O.select("line"),A=O.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),O=O.merge(S),j=j.merge(S.append("line").attr("stroke","#000").attr(M+"2",C*v)),A=A.merge(S.append("text").attr("fill","#000").attr(M,C*f).attr("dy",e===h?"0em":e===m?"0.71em":"0.32em")),t!==H&&(D=D.transition(t),O=O.transition(t),j=j.transition(t),A=A.transition(t),V=V.transition(t).attr("opacity",y).attr("transform",function(e){return isFinite(e=L(e))?_(e):this.getAttribute("transform")}),S.attr("opacity",y).attr("transform",function(e){var t=this.parentNode.__axis;return _(t&&isFinite(t=t(e))?t:L(e))})),V.remove(),D.attr("d",e===b||e==p?"M"+C*g+","+T+"H0.5V"+x+"H"+C*g:"M"+T+","+C*g+"V0.5H"+x+"V"+C*g),O.attr("opacity",1).attr("transform",function(e){return _(L(e))}),j.attr(M+"2",C*v),A.attr(M,C*f).text(i),H.filter(o).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===p?"start":e===b?"end":"middle"),H.each(function(){this.__axis=L})}var u=[],s=null,c=null,v=6,g=6,w=3,C=e===h||e===b?-1:1,M=e===b||e===p?"x":"y",_=e===h||e===m?t:a;return i.scale=function(e){return arguments.length?(l=e,i):l},i.ticks=function(){return u=f.call(arguments),i},i.tickArguments=function(e){return arguments.length?(u=null==e?[]:f.call(e),i):u.slice()},i.tickValues=function(e){return arguments.length?(s=null==e?null:f.call(e),i):s&&s.slice()},i.tickFormat=function(e){return arguments.length?(c=e,i):c},i.tickSize=function(e){return arguments.length?(v=g=+e,i):v},i.tickSizeInner=function(e){return arguments.length?(v=+e,i):v},i.tickSizeOuter=function(e){return arguments.length?(g=+e,i):g},i.tickPadding=function(e){return arguments.length?(w=+e,i):w},i}function i(e){return l(h,e)}function u(e){return l(p,e)}function s(e){return l(m,e)}function c(e){return l(b,e)}var f=Array.prototype.slice,d=function(e){return e},h=1,p=2,m=3,b=4,y=1e-6;e.axisTop=i,e.axisRight=u,e.axisBottom=s,e.axisLeft=c,Object.defineProperty(e,"__esModule",{value:!0})})},294:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=a(1),u=n(i),s=a(33),c=a(2),f=n(c),d=a(295),h=n(d),p=a(300),m=n(p),b=a(141),y=function(e){function t(){var a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return a=n=o(this,e.call.apply(e,[this].concat(u))),n.onMouseOver=function(e){var t=n.props.showToolTip;t(e)},n.onMouseLeave=function(){var e=n.props.hideToolTip;e()},l=a,o(n,l)}return l(t,e),t.prototype.render=function(){var e=this.props,t=e.dataChart,a=e.svgWidth,n=t.baseTemperature,r=t.monthlyVariance,o=r.reduce(function(e,t){return e.findIndex(function(e){return e.year===t.year})<0?[].concat(e,[t]):e},[]).length,l=Math.max.apply(Math,r.map(function(e){return e.variance})),i=Math.min.apply(Math,r.map(function(e){return e.variance})),c={minVariance:i,maxVariance:l},f={top:30,right:10,bottom:40,left:50},d={width:Math.max(a,300),height:450,innerWidth:0,innerHeight:0};d.innerHeight=d.height/b.dataVisConstant.Months.length,d.innerWidth=d.width/o;var p=(0,s.scaleBand)().domain(r.map(function(e){return e.year})).range([0,d.width-1]),y=(0,s.scaleBand)().domain(b.dataVisConstant.Months).range([0,d.height]);return u.default.createElement("svg",{width:d.width+f.left+f.right,height:d.height+f.top+f.bottom,viewBox:"0 0 "+(d.width+f.left+f.right)+" "+(d.height+f.top+f.bottom),preserveAspectRatio:"xMidYMid meet",className:"animated bounceInLeft"},u.default.createElement(h.default,{scales:{xScale:p,yScale:y},margins:f,svgDimensions:d}),"Â´",u.default.createElement(m.default,{varianceData:c,svgDimensions:d,heatData:t.monthlyVariance,baseTemp:n,heatMouseOver:this.onMouseOver,heatMouseleave:this.onMouseLeave}))},t}(i.Component);y.propTypes={svgWidth:f.default.number,dataChart:f.default.shape({baseTemperature:f.default.number,monthlyVariance:f.default.arrayOf(f.default.shape({month:f.default.number,variance:f.default.number,year:f.default.number}))}),showToolTip:f.default.func,hideToolTip:f.default.func},t.default=y,e.exports=t.default},295:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=a(1),o=n(r),l=a(2),i=n(l),u=a(296),s=n(u),c=function(e){var t=e.scales,a=e.margins,n=e.svgDimensions,r=n.height,l=n.width,i={orient:"Bottom",scale:t.xScale,translate:"translate(0, "+(r+1)+")",tickSize:r-a.top-a.bottom},u={orient:"Right",scale:t.yScale,translate:"translate("+(l+1)+",0)"};return o.default.createElement("g",null,o.default.createElement(s.default,i),o.default.createElement(s.default,u))};c.propTypes={scales:i.default.shape({yScale:i.default.func,xScale:i.default.func}),margins:i.default.shape({top:i.default.number,right:i.default.number,bottom:i.default.number,left:i.default.number}),svgDimensions:i.default.shape({width:i.default.number,height:i.default.number})},t.default=c,e.exports=t.default},296:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=a(1),s=r(u),c=a(2),f=r(c),d=a(99),h=n(d),p=a(21),m=a(251),b=n(m),y=a(121),v=r(y),g=function(e){function t(){return o(this,t),l(this,e.apply(this,arguments))}return i(t,e),t.prototype.componentDidMount=function(){this.renderAxis()},t.prototype.componentDidUpdate=function(){this.renderAxis()},t.prototype.renderAxis=function(){var e=this.props,t=e.orient,a=e.scale,n="axis"+t,r=h[n]().scale(a);"Bottom"===t&&(r.tickValues(a.domain().filter(function(e){return e%10===0})),r.tickFormat(function(e){var t=new Date(0).setUTCFullYear(e);return b.utcFormat("%Y")(t)}),r.tickSize(10,1)),(0,p.select)(this.axisElement).call(r)},t.prototype.render=function(){var e=this,t=this.props,a=t.translate,n=t.orient;return s.default.createElement("g",{className:v.default.Axis+" "+v.default.Axis+"-"+n,ref:function(t){e.axisElement=t},transform:a})},t}(u.Component);g.propTypes={orient:f.default.string,scale:f.default.func,translate:f.default.string},t.default=g,e.exports=t.default},297:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=a(1),o=n(r),l=a(121),i=n(l),u=function(){return o.default.createElement("div",{className:i.default.containerColors},o.default.createElement("div",{className:i.default.firstLabel},"0"),o.default.createElement("div",{className:i.default.secondLabel},"2.7"),o.default.createElement("div",{className:i.default.thirdLabel},"3.9"),o.default.createElement("div",{className:i.default.fourthLabel},"5"),o.default.createElement("div",{className:i.default.fithLabel},"6.1"),o.default.createElement("div",{className:i.default.sixthLabel},"7.2"),o.default.createElement("div",{className:i.default.seventhLabel},"8.3"),o.default.createElement("div",{className:i.default.eightLabel},"9.4"),o.default.createElement("div",{className:i.default.tenLabel},"10.5"),o.default.createElement("div",{className:i.default.elevenLabel},"11.6"),o.default.createElement("div",{className:i.default.twelveLabel},"12.7"))};t.default=u,e.exports=t.default},298:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=a(1),u=n(i),s=a(77),c=n(s),f=a(37),d=n(f),h=a(59),p=n(h),m=a(294),b=n(m),y=a(297),v=n(y),g=a(301),w=n(g),C=a(121),M=n(C),_=function(e){function t(){r(this,t);var a=o(this,e.call(this));return a.onHideToolTip=function(){a.setState({isTooltipActive:!1,tooltipData:{}})},a.onShowToolTip=function(e){a.setState({isTooltipActive:!0,tooltipData:e})},a.setChartDimensions=function(){var e=a.state.chartWidth,t=0;a.chartContainer?(t=a.chartContainer.getBoundingClientRect().width,t=a.chartContainer.getBoundingClientRect().width<=768?a.setChartWidth(a.chartContainer.getBoundingClientRect().width):a.chartContainer.getBoundingClientRect().width,t!==e&&a.setState({chartWidth:t})):(t=window.innerWidth>=960?900:window.innerWidth,t!==e&&a.setState({chartWidth:t}))},a.setChartWidth=function(e){return.7*e},a.handlePreloadShutdown=function(){a.setState({isLoading:!1})},a.state={isLoading:!0,isError:!1,fullchartData:{},isTooltipActive:!1,tooltipData:{},chartWidth:0},a}return l(t,e),t.prototype.componentDidMount=function(){var e=this;"undefined"!=typeof window&&(this.setChartDimensions(),window.addEventListener("resize",this.setChartDimensions)),setTimeout(function(){var t=JSON.parse(c.default.getStorageData("heatdata"));t?e.setState({fullchartData:t}):e.fetchData()},2500)},t.prototype.componentWillUnmount=function(){"undefined"!=typeof window&&window.removeEventListener("resize",this.setChartDimensions)},t.prototype.fetchData=function(){var e=this;fetch("https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/global-temperature.json").then(function(e){return e.json()}).then(function(t){c.default.setStorageData("heatdata",t),e.setState({fullchartData:t})}).catch(function(t){console.log("===================================="),console.log("error getting the chart data:"+JSON.stringify(t,null,2)),console.log("===================================="),e.setState({isError:!0})})},t.prototype.render=function(){var e=this,t=this.state,a=t.isError,n=t.isLoading,r=t.fullchartData,o=t.isTooltipActive,l=t.tooltipData,i=t.chartWidth;return a?u.default.createElement(p.default,null):n?u.default.createElement(d.default,{chartName:"heat",turnDownPreload:this.handlePreloadShutdown}):r.baseTemperature?u.default.createElement("div",{ref:function(t){e.chartContainer=t}},u.default.createElement("div",{className:M.default.heatTitle},"Monthly Global Surface Temperature between 1753 - 2015"),u.default.createElement("div",{className:M.default.containerHeat},u.default.createElement("div",null,u.default.createElement(v.default,null)),u.default.createElement("div",{className:M.default.containerHeatChart},u.default.createElement(b.default,{dataChart:r,showToolTip:this.onShowToolTip,hideToolTip:this.onHideToolTip,svgWidth:i}))),u.default.createElement("div",{className:M.default.heatInfo},u.default.createElement(w.default,{data:o?l:null}))):void 0},t}(i.Component);t.default=_,e.exports=t.default},299:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=a(1),u=n(i),s=a(2),c=n(s),f=function(e){function t(){var a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return a=n=o(this,e.call.apply(e,[this].concat(u))),n.onHeatEnter=function(){var e=n.props,t=e.data,a=e.heatDataMouseEnter;a({temp:t.dataTemperature,variance:t.variance,year:t.year,month:t.month,toolColor:t.fillColor,baseTemp:t.dataTemperature})},n.onHeatLeave=function(){n.props.heatDataMouseLeave()},l=a,o(n,l)}return l(t,e),t.prototype.render=function(){var e=this.props.data,t=(e.year-e.baseYear)*e.width,a=(e.month-1)*e.height;return u.default.createElement("rect",{key:"heat_item_"+e.year+"_"+e.month,x:t,y:a,height:e.height,width:e.width,fill:e.fillColor,onMouseOver:this.onHeatEnter,onFocus:this.onHeatEnter,onMouseOut:this.onHeatLeave,onBlur:this.onHeatLeave})},t}(i.PureComponent);f.propTypes={data:c.default.shape({year:c.default.number,baseYear:c.default.number,month:c.default.number,width:c.default.number,height:c.default.number,variance:c.default.number,dataTemperature:c.default.number,fillColor:c.default.string}),heatDataMouseEnter:c.default.func,heatDataMouseLeave:c.default.func},t.default=f,e.exports=t.default},300:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=a(1),u=n(i),s=a(33),c=a(2),f=n(c),d=a(299),h=n(d),p=function(e){function t(){var a,n,l;r(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return a=n=o(this,e.call.apply(e,[this].concat(u))),n.onheatMouseOver=function(e){var t=n.props.heatMouseOver;t(e)},n.onheatMouseLeave=function(){n.props.heatMouseleave()},l=a,o(n,l)}return l(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.varianceData,n=t.baseTemp,r=t.heatData,o=t.svgDimensions,l=["#5e4fa2","#3288bd","#66c2a5","#abdda4","#e6f598","#ffffbf","#fee08b","#fdae61","#f46d43","#d53e4f","#9e0142"],i=(0,s.scaleQuantile)().domain([a.minVariance+n,a.maxVariance+n]).range(l),c=o.innerWidth,f=o.innerHeight,d=r.map(function(t){return u.default.createElement(h.default,{key:"heat_item_"+t.year+"_"+t.month,data:{year:t.year,baseYear:r[0].year,month:t.month,width:c,height:f,variance:t.variance,dataTemperature:n,fillColor:i(t.variance+n)},heatDataMouseEnter:e.onheatMouseOver,heatDataMouseLeave:e.onheatMouseLeave})});return u.default.createElement("g",null,d)},t}(i.Component);p.propTypes={varianceData:f.default.shape({maxVariance:f.default.number,minVariance:f.default.number}),svgDimensions:f.default.shape({height:f.default.number,innerHeight:f.default.number,innerWidth:f.default.number,width:f.default.number}),heatData:f.default.arrayOf(f.default.shape({month:f.default.number,variance:f.default.number,year:f.default.number})),baseTemp:f.default.number,heatMouseOver:f.default.func,heatMouseleave:f.default.func},t.default=p,e.exports=t.default},301:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=a(1),o=n(r),l=a(2),i=n(l),u=a(121),s=n(u),c=a(141),f=function(e){return c.dataVisConstant.Months[e-1]},d=function(){return o.default.createElement("p",null,o.default.createElement("span",{className:s.default.heattooltipText},"Mouse over a bar to show you information"))},h=function(e){return o.default.createElement("p",null,o.default.createElement("span",{className:s.default.heattooltipText},f(e.month)," ",e.year," temperature was: ",e.baseTemp," ","with variance:",e.variance))},p=function(e){var t=e.data;return o.default.createElement("div",{className:s.default.heatcontainerToolTip},t?h(t):d())};p.propTypes={data:i.default.shape({variance:i.default.number,baseTemp:i.default.number,month:i.default.number,year:i.default.number})},t.default=p,e.exports=t.default},121:function(e,t){e.exports={Axis:"src-components-Challenges-HeatMapChartView----heat-style-module---Axis---g-kz2",heatcontainerToolTip:"src-components-Challenges-HeatMapChartView----heat-style-module---heatcontainerToolTip---T07s0","Axis-Bottom":"src-components-Challenges-HeatMapChartView----heat-style-module---Axis-Bottom---3XrQw","Axis-Right":"src-components-Challenges-HeatMapChartView----heat-style-module---Axis-Right---3roAb",containerHeat:"src-components-Challenges-HeatMapChartView----heat-style-module---containerHeat---zNmI_",heatTitle:"src-components-Challenges-HeatMapChartView----heat-style-module---heatTitle---2WI_I",containerColors:"src-components-Challenges-HeatMapChartView----heat-style-module---containerColors---3YqwE",firstLabel:"src-components-Challenges-HeatMapChartView----heat-style-module---firstLabel---2o26I",secondLabel:"src-components-Challenges-HeatMapChartView----heat-style-module---secondLabel---1_dig",thirdLabel:"src-components-Challenges-HeatMapChartView----heat-style-module---thirdLabel---3_Bt9",fourthLabel:"src-components-Challenges-HeatMapChartView----heat-style-module---fourthLabel---1kVlp",fithLabel:"src-components-Challenges-HeatMapChartView----heat-style-module---fithLabel---1EMrW",sixthLabel:"src-components-Challenges-HeatMapChartView----heat-style-module---sixthLabel---81bEn",seventhLabel:"src-components-Challenges-HeatMapChartView----heat-style-module---seventhLabel---3a4sc",eightLabel:"src-components-Challenges-HeatMapChartView----heat-style-module---eightLabel---1tH21",tenLabel:"src-components-Challenges-HeatMapChartView----heat-style-module---tenLabel---3E_ET",elevenLabel:"src-components-Challenges-HeatMapChartView----heat-style-module---elevenLabel---3snQQ",twelveLabel:"src-components-Challenges-HeatMapChartView----heat-style-module---twelveLabel---3ZLyY",heattooltipText:"src-components-Challenges-HeatMapChartView----heat-style-module---heattooltipText---2MVwB",containerHeatChart:"src-components-Challenges-HeatMapChartView----heat-style-module---containerHeatChart---Njpjf","Axis-Left":"src-components-Challenges-HeatMapChartView----heat-style-module---Axis-Left---3AwBD"}},326:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=a(1),o=n(r),l=a(30),i=n(l),u=a(298),s=n(u),c=function(){return o.default.createElement("div",null,o.default.createElement(i.default,{title:"Super Duper Heat Map",meta:[{name:"description",content:"freeCodeCamp DataVis Challenges,Heat Map Chart"},{name:"keywords",content:"react, gatsby,challenges,d3,Heatmap"},{name:"author",content:"jonniebigodes"}]}),o.default.createElement(s.default,null))};t.default=c,e.exports=t.default}});
//# sourceMappingURL=component---src-pages-heatview-js-32d1c637bab48b057019.js.map