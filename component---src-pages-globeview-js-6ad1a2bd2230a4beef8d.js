webpackJsonp([0xd4fcda823f3e],{64:function(t,n,e){!function(t,e){e(n)}(this,function(t){"use strict";function n(){for(var t,n=0,r=arguments.length,o={};n<r;++n){if(!(t=arguments[n]+"")||t in o)throw new Error("illegal type: "+t);o[t]=[]}return new e(o)}function e(t){this._=t}function r(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function o(t,n){for(var e,r=0,o=t.length;r<o;++r)if((e=t[r]).name===n)return e.value}function i(t,n,e){for(var r=0,o=t.length;r<o;++r)if(t[r].name===n){t[r]=u,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}var u={value:function(){}};e.prototype=n.prototype={constructor:e,on:function(t,n){var e,u=this._,a=r(t+"",u),c=-1,l=a.length;{if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++c<l;)if(e=(t=a[c]).type)u[e]=i(u[e],t.name,n);else if(null==n)for(e in u)u[e]=i(u[e],t.name,null);return this}for(;++c<l;)if((e=(t=a[c]).type)&&(e=o(u[e],t.name)))return e}},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new e(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,o=new Array(e),i=0;i<e;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,e=r.length;i<e;++i)r[i].value.apply(n,o)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(n,e)}},t.dispatch=n,Object.defineProperty(t,"__esModule",{value:!0})})},168:function(t,n,e){!function(t,r){r(n,e(64),e(23))}(this,function(t,n,e){"use strict";function r(){e.event.stopImmediatePropagation()}function o(t,n){var r=t.document.documentElement,o=e.select(t).on("dragstart.drag",null);n&&(o.on("click.drag",s,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function i(t,n,e,r,o,i,u,a,c,l){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=o,this.x=i,this.y=u,this.dx=a,this.dy=c,this._=l}function u(){return!e.event.button}function a(){return this.parentNode}function c(t){return null==t?{x:e.event.x,y:e.event.y}:t}function l(){return"ontouchstart"in this}var s=function(){e.event.preventDefault(),e.event.stopImmediatePropagation()},f=function(t){var n=t.document.documentElement,r=e.select(t).on("dragstart.drag",s,!0);"onselectstart"in n?r.on("selectstart.drag",s,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")},h=function(t){return function(){return t}};i.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var p=function(){function t(t){t.on("mousedown.drag",p).filter(C).on("touchstart.drag",g).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!M&&x.apply(this,arguments)){var t=_("mouse",S.apply(this,arguments),e.mouse,this,arguments);t&&(e.select(e.event.view).on("mousemove.drag",d,!0).on("mouseup.drag",v,!0),f(e.event.view),r(),b=!1,w=e.event.clientX,E=e.event.clientY,t("start"))}}function d(){if(s(),!b){var t=e.event.clientX-w,n=e.event.clientY-E;b=t*t+n*n>N}P.mouse("drag")}function v(){e.select(e.event.view).on("mousemove.drag mouseup.drag",null),o(e.event.view,b),s(),P.mouse("end")}function g(){if(x.apply(this,arguments)){var t,n,o=e.event.changedTouches,i=S.apply(this,arguments),u=o.length;for(t=0;t<u;++t)(n=_(o[t].identifier,i,e.touch,this,arguments))&&(r(),n("start"))}}function m(){var t,n,r=e.event.changedTouches,o=r.length;for(t=0;t<o;++t)(n=P[r[t].identifier])&&(s(),n("drag"))}function y(){var t,n,o=e.event.changedTouches,i=o.length;for(M&&clearTimeout(M),M=setTimeout(function(){M=null},500),t=0;t<i;++t)(n=P[o[t].identifier])&&(r(),n("end"))}function _(n,r,o,u,a){var c,l,s,f=o(r,n),h=k.copy();if(e.customEvent(new i(t,"beforestart",c,n,O,f[0],f[1],0,0,h),function(){return null!=(e.event.subject=c=T.apply(u,a))&&(l=c.x-f[0]||0,s=c.y-f[1]||0,!0)}))return function p(d){var v,g=f;switch(d){case"start":P[n]=p,v=O++;break;case"end":delete P[n],--O;case"drag":f=o(r,n),v=O}e.customEvent(new i(t,d,c,n,v,f[0]+l,f[1]+s,f[0]-g[0],f[1]-g[1],h),h.apply,h,[d,u,a])}}var w,E,b,M,x=u,S=a,T=c,C=l,P={},k=n.dispatch("start","drag","end"),O=0,N=0;return t.filter=function(n){return arguments.length?(x="function"==typeof n?n:h(!!n),t):x},t.container=function(n){return arguments.length?(S="function"==typeof n?n:h(n),t):S},t.subject=function(n){return arguments.length?(T="function"==typeof n?n:h(n),t):T},t.touchable=function(n){return arguments.length?(C="function"==typeof n?n:h(!!n),t):C},t.on=function(){var n=k.on.apply(k,arguments);return n===k?t:n},t.clickDistance=function(n){return arguments.length?(N=(n=+n)*n,t):Math.sqrt(N)},t};t.drag=p,t.dragDisable=f,t.dragEnable=o,Object.defineProperty(t,"__esModule",{value:!0})})},361:function(t,n,e){!function(t,e){e(n)}(this,function(t){"use strict";function n(t){return+t}function e(t){return t*t}function r(t){return t*(2-t)}function o(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function i(t){return t*t*t}function u(t){return--t*t*t+1}function a(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function c(t){return 1-Math.cos(t*S)}function l(t){return Math.sin(t*S)}function s(t){return(1-Math.cos(x*t))/2}function f(t){return Math.pow(2,10*t-10)}function h(t){return 1-Math.pow(2,-10*t)}function p(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function d(t){return 1-Math.sqrt(1-t*t)}function v(t){return Math.sqrt(1- --t*t)}function g(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function m(t){return 1-y(1-t)}function y(t){return(t=+t)<T?A*t*t:t<P?A*(t-=C)*t+k:t<N?A*(t-=O)*t+z:A*(t-=j)*t+I}function _(t){return((t*=2)<=1?1-y(1-t):y(t-1)+1)/2}var w=3,E=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(w),b=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(w),M=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(w),x=Math.PI,S=x/2,T=4/11,C=6/11,P=8/11,k=.75,O=9/11,N=10/11,z=.9375,j=21/22,I=63/64,A=1/T/T,R=1.70158,D=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(R),L=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(R),F=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(R),q=2*Math.PI,G=1,W=.3,B=function t(n,e){function r(t){return n*Math.pow(2,10*--t)*Math.sin((o-t)/e)}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=q);return r.amplitude=function(n){return t(n,e*q)},r.period=function(e){return t(n,e)},r}(G,W),H=function t(n,e){function r(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+o)/e)}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=q);return r.amplitude=function(n){return t(n,e*q)},r.period=function(e){return t(n,e)},r}(G,W),Y=function t(n,e){function r(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((o-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((o+t)/e))/2}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=q);return r.amplitude=function(n){return t(n,e*q)},r.period=function(e){return t(n,e)},r}(G,W);t.easeLinear=n,t.easeQuad=o,t.easeQuadIn=e,t.easeQuadOut=r,t.easeQuadInOut=o,t.easeCubic=a,t.easeCubicIn=i,t.easeCubicOut=u,t.easeCubicInOut=a,t.easePoly=M,t.easePolyIn=E,t.easePolyOut=b,t.easePolyInOut=M,t.easeSin=s,t.easeSinIn=c,t.easeSinOut=l,t.easeSinInOut=s,t.easeExp=p,t.easeExpIn=f,t.easeExpOut=h,t.easeExpInOut=p,t.easeCircle=g,t.easeCircleIn=d,t.easeCircleOut=v,t.easeCircleInOut=g,t.easeBounce=y,t.easeBounceIn=m,t.easeBounceOut=y,t.easeBounceInOut=_,t.easeBack=F,t.easeBackIn=D,t.easeBackOut=L,t.easeBackInOut=F,t.easeElastic=H,t.easeElasticIn=B,t.easeElasticOut=H,t.easeElasticInOut=Y,Object.defineProperty(t,"__esModule",{value:!0})})},363:function(t,n,e){!function(t,r){r(n,e(119))}(this,function(t,n){"use strict";function e(){return new r}function r(){this.reset()}function o(t,n,e){var r=t.s=n+e,o=r-n,i=r-o;t.t=n-i+(e-o)}function i(t){return t>1?0:t<-1?Ae:Math.acos(t)}function u(t){return t>1?Re:t<-1?-Re:Math.asin(t)}function a(t){return(t=Je(t/2))*t}function c(){}function l(t,n){t&&tr.hasOwnProperty(t.type)&&tr[t.type](t,n)}function s(t,n,e){var r,o=-1,i=t.length-e;for(n.lineStart();++o<i;)r=t[o],n.point(r[0],r[1],r[2]);n.lineEnd()}function f(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)s(t[e],n,1);n.polygonEnd()}function h(t,n){t&&$e.hasOwnProperty(t.type)?$e[t.type](t,n):l(t,n)}function p(){rr.point=v}function d(){g(ne,ee)}function v(t,n){rr.point=g,ne=t,ee=n,t*=qe,n*=qe,re=t,oe=He(n=n/2+De),ie=Je(n)}function g(t,n){t*=qe,n*=qe,n=n/2+De;var e=t-re,r=e>=0?1:-1,o=r*e,i=He(n),u=Je(n),a=ie*u,c=oe*i+a*He(o),l=a*r*Je(o);nr.add(Be(l,c)),re=t,oe=i,ie=u}function m(t){return er.reset(),h(t,rr),2*er}function y(t){return[Be(t[1],t[0]),u(t[2])]}function _(t){var n=t[0],e=t[1],r=He(e);return[r*He(n),r*Je(n),Je(e)]}function w(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function E(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function b(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function M(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function x(t){var n=Qe(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function S(t,n){de.push(ve=[ue=t,ce=t]),n<ae&&(ae=n),n>le&&(le=n)}function T(t,n){var e=_([t*qe,n*qe]);if(pe){var r=E(pe,e),o=[r[1],-r[0],0],i=E(o,r);x(i),i=y(i);var u,a=t-se,c=a>0?1:-1,l=i[0]*Fe*c,s=Ge(a)>180;s^(c*se<l&&l<c*t)?(u=i[1]*Fe,u>le&&(le=u)):(l=(l+360)%360-180,s^(c*se<l&&l<c*t)?(u=-i[1]*Fe,u<ae&&(ae=u)):(n<ae&&(ae=n),n>le&&(le=n))),s?t<se?z(ue,t)>z(ue,ce)&&(ce=t):z(t,ce)>z(ue,ce)&&(ue=t):ce>=ue?(t<ue&&(ue=t),t>ce&&(ce=t)):t>se?z(ue,t)>z(ue,ce)&&(ce=t):z(t,ce)>z(ue,ce)&&(ue=t)}else de.push(ve=[ue=t,ce=t]);n<ae&&(ae=n),n>le&&(le=n),pe=e,se=t}function C(){ir.point=T}function P(){ve[0]=ue,ve[1]=ce,ir.point=S,pe=null}function k(t,n){if(pe){var e=t-se;or.add(Ge(e)>180?e+(e>0?360:-360):e)}else fe=t,he=n;rr.point(t,n),T(t,n)}function O(){rr.lineStart()}function N(){k(fe,he),rr.lineEnd(),Ge(or)>je&&(ue=-(ce=180)),ve[0]=ue,ve[1]=ce,pe=null}function z(t,n){return(n-=t)<0?n+360:n}function j(t,n){return t[0]-n[0]}function I(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function A(t){var n,e,r,o,i,u,a;if(le=ce=-(ue=ae=1/0),de=[],h(t,ir),e=de.length){for(de.sort(j),n=1,r=de[0],i=[r];n<e;++n)o=de[n],I(r,o[0])||I(r,o[1])?(z(r[0],o[1])>z(r[0],r[1])&&(r[1]=o[1]),z(o[0],r[1])>z(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(u=-(1/0),e=i.length-1,n=0,r=i[e];n<=e;r=o,++n)o=i[n],(a=z(r[1],o[0]))>u&&(u=a,ue=o[0],ce=r[1])}return de=ve=null,ue===1/0||ae===1/0?[[NaN,NaN],[NaN,NaN]]:[[ue,ae],[ce,le]]}function R(t,n){t*=qe,n*=qe;var e=He(n);D(e*He(t),e*Je(t),Je(n))}function D(t,n,e){++ge,ye+=(t-ye)/ge,_e+=(n-_e)/ge,we+=(e-we)/ge}function L(){ur.point=F}function F(t,n){t*=qe,n*=qe;var e=He(n);ke=e*He(t),Oe=e*Je(t),Ne=Je(n),ur.point=q,D(ke,Oe,Ne)}function q(t,n){t*=qe,n*=qe;var e=He(n),r=e*He(t),o=e*Je(t),i=Je(n),u=Be(Qe((u=Oe*i-Ne*o)*u+(u=Ne*r-ke*i)*u+(u=ke*o-Oe*r)*u),ke*r+Oe*o+Ne*i);me+=u,Ee+=u*(ke+(ke=r)),be+=u*(Oe+(Oe=o)),Me+=u*(Ne+(Ne=i)),D(ke,Oe,Ne)}function G(){ur.point=R}function W(){ur.point=H}function B(){Y(Ce,Pe),ur.point=R}function H(t,n){Ce=t,Pe=n,t*=qe,n*=qe,ur.point=Y;var e=He(n);ke=e*He(t),Oe=e*Je(t),Ne=Je(n),D(ke,Oe,Ne)}function Y(t,n){t*=qe,n*=qe;var e=He(n),r=e*He(t),o=e*Je(t),i=Je(n),a=Oe*i-Ne*o,c=Ne*r-ke*i,l=ke*o-Oe*r,s=Qe(a*a+c*c+l*l),f=u(s),h=s&&-f/s;xe+=h*a,Se+=h*c,Te+=h*l,me+=f,Ee+=f*(ke+(ke=r)),be+=f*(Oe+(Oe=o)),Me+=f*(Ne+(Ne=i)),D(ke,Oe,Ne)}function X(t){ge=me=ye=_e=we=Ee=be=Me=xe=Se=Te=0,h(t,ur);var n=xe,e=Se,r=Te,o=n*n+e*e+r*r;return o<Ie&&(n=Ee,e=be,r=Me,me<je&&(n=ye,e=_e,r=we),o=n*n+e*e+r*r,o<Ie)?[NaN,NaN]:[Be(e,n)*Fe,u(r/Qe(o))*Fe]}function V(t){return function(){return t}}function U(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return e=n.invert(e,r),e&&t.invert(e[0],e[1])}),e}function J(t,n){return[t>Ae?t-Le:t<-Ae?t+Le:t,n]}function Z(t,n,e){return(t%=Le)?n||e?U(K(t),$(n,e)):K(t):n||e?$(n,e):J}function Q(t){return function(n,e){return n+=t,[n>Ae?n-Le:n<-Ae?n+Le:n,e]}}function K(t){var n=Q(t);return n.invert=Q(-t),n}function $(t,n){function e(t,n){var e=He(n),c=He(t)*e,l=Je(t)*e,s=Je(n),f=s*r+c*o;return[Be(l*i-f*a,c*r-s*o),u(f*i+l*a)]}var r=He(t),o=Je(t),i=He(n),a=Je(n);return e.invert=function(t,n){var e=He(n),c=He(t)*e,l=Je(t)*e,s=Je(n),f=s*i-l*a;return[Be(l*i+s*a,c*r+f*o),u(f*r-c*o)]},e}function tt(t){function n(n){return n=t(n[0]*qe,n[1]*qe),n[0]*=Fe,n[1]*=Fe,n}return t=Z(t[0]*qe,t[1]*qe,t.length>2?t[2]*qe:0),n.invert=function(n){return n=t.invert(n[0]*qe,n[1]*qe),n[0]*=Fe,n[1]*=Fe,n},n}function nt(t,n,e,r,o,i){if(e){var u=He(n),a=Je(n),c=r*e;null==o?(o=n+r*Le,i=n-c/2):(o=et(u,o),i=et(u,i),(r>0?o<i:o>i)&&(o+=r*Le));for(var l,s=o;r>0?s>i:s<i;s-=c)l=y([u,-a*He(s),-a*Je(s)]),t.point(l[0],l[1])}}function et(t,n){n=_(n),n[0]-=t,x(n);var e=i(-n[1]);return((-n[2]<0?-e:e)+Le-je)%Le}function rt(){function t(t,n){e.push(t=r(t,n)),t[0]*=Fe,t[1]*=Fe}function n(){var t=o.apply(this,arguments),n=i.apply(this,arguments)*qe,c=u.apply(this,arguments)*qe;return e=[],r=Z(-t[0]*qe,-t[1]*qe,0).invert,nt(a,n,c,1),t={type:"Polygon",coordinates:[e]},e=r=null,t}var e,r,o=V([0,0]),i=V(90),u=V(6),a={point:t};return n.center=function(t){return arguments.length?(o="function"==typeof t?t:V([+t[0],+t[1]]),n):o},n.radius=function(t){return arguments.length?(i="function"==typeof t?t:V(+t),n):i},n.precision=function(t){return arguments.length?(u="function"==typeof t?t:V(+t),n):u},n}function ot(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:c,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function it(t,n){return Ge(t[0]-n[0])<je&&Ge(t[1]-n[1])<je}function ut(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function at(t,n,e,r,o){var i,u,a=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(it(r,u)){for(o.lineStart(),i=0;i<n;++i)o.point((r=t[i])[0],r[1]);return void o.lineEnd()}a.push(e=new ut(r,t,null,!0)),c.push(e.o=new ut(r,null,e,!1)),a.push(e=new ut(u,t,null,!1)),c.push(e.o=new ut(u,null,e,!0))}}),a.length){for(c.sort(n),ct(a),ct(c),i=0,u=c.length;i<u;++i)c[i].e=e=!e;for(var l,s,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(i=0,u=l.length;i<u;++i)o.point((s=l[i])[0],s[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(l=h.p.z,i=l.length-1;i>=0;--i)o.point((s=l[i])[0],s[1]);else r(h.x,h.p.x,-1,o);h=h.p}h=h.o,l=h.z,p=!p}while(!h.v);o.lineEnd()}}}function ct(t){if(n=t.length){for(var n,e,r=0,o=t[0];++r<n;)o.n=e=t[r],e.p=o,o=e;o.n=e=t[0],e.p=o}}function lt(t,n){var e=n[0],r=n[1],o=Je(r),i=[Je(e),-He(e),0],a=0,c=0;yr.reset(),1===o?r=Re+je:o===-1&&(r=-Re-je);for(var l=0,s=t.length;l<s;++l)if(h=(f=t[l]).length)for(var f,h,p=f[h-1],d=p[0],v=p[1]/2+De,g=Je(v),m=He(v),y=0;y<h;++y,d=b,g=S,m=T,p=w){var w=f[y],b=w[0],M=w[1]/2+De,S=Je(M),T=He(M),C=b-d,P=C>=0?1:-1,k=P*C,O=k>Ae,N=g*S;if(yr.add(Be(N*P*Je(k),m*T+N*He(k))),a+=O?C+P*Le:C,O^d>=e^b>=e){var z=E(_(p),_(w));x(z);var j=E(i,z);x(j);var I=(O^C>=0?-1:1)*u(j[2]);(r>I||r===I&&(z[0]||z[1]))&&(c+=O^C>=0?1:-1)}}return(a<-je||a<je&&yr<-je)^1&c}function st(t,e,r,o){return function(i){function u(n,e){t(n,e)&&i.point(n,e)}function a(t,n){g.point(t,n)}function c(){w.point=a,g.lineStart()}function l(){w.point=u,g.lineEnd()}function s(t,n){v.push([t,n]),y.point(t,n)}function f(){y.lineStart(),v=[]}function h(){s(v[0][0],v[0][1]),y.lineEnd();var t,n,e,r,o=y.clean(),u=m.result(),a=u.length;if(v.pop(),p.push(v),v=null,a)if(1&o){if(e=u[0],(n=e.length-1)>0){for(_||(i.polygonStart(),_=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else a>1&&2&o&&u.push(u.pop().concat(u.shift())),d.push(u.filter(ft))}var p,d,v,g=e(i),m=ot(),y=e(m),_=!1,w={point:u,lineStart:c,lineEnd:l,polygonStart:function(){w.point=s,w.lineStart=f,w.lineEnd=h,d=[],p=[]},polygonEnd:function(){w.point=u,w.lineStart=c,w.lineEnd=l,d=n.merge(d);var t=lt(p,o);d.length?(_||(i.polygonStart(),_=!0),at(d,ht,t,r,i)):t&&(_||(i.polygonStart(),_=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),_&&(i.polygonEnd(),_=!1),d=p=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return w}}function ft(t){return t.length>1}function ht(t,n){return((t=t.x)[0]<0?t[1]-Re-je:Re-t[1])-((n=n.x)[0]<0?n[1]-Re-je:Re-n[1])}function pt(t){var n,e=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(i,u){var a=i>0?Ae:-Ae,c=Ge(i-e);Ge(c-Ae)<je?(t.point(e,r=(r+u)/2>0?Re:-Re),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(i,r),n=0):o!==a&&c>=Ae&&(Ge(e-o)<je&&(e-=o*je),Ge(i-a)<je&&(i-=a*je),r=dt(e,r,i,u),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=i,r=u),o=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}function dt(t,n,e,r){var o,i,u=Je(t-e);return Ge(u)>je?We((Je(n)*(i=He(r))*Je(e)-Je(r)*(o=He(n))*Je(t))/(o*i*u)):(n+r)/2}function vt(t,n,e,r){var o;if(null==t)o=e*Re,r.point(-Ae,o),r.point(0,o),r.point(Ae,o),r.point(Ae,0),r.point(Ae,-o),r.point(0,-o),r.point(-Ae,-o),r.point(-Ae,0),r.point(-Ae,o);else if(Ge(t[0]-n[0])>je){var i=t[0]<n[0]?Ae:-Ae;o=e*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(n[0],n[1])}function gt(t){function n(n,e,r,o){nt(o,t,a,r,n,e)}function e(t,n){return He(t)*He(n)>u}function r(t){var n,r,u,a,s;return{lineStart:function(){a=u=!1,s=1},point:function(f,h){var p,d=[f,h],v=e(f,h),g=c?v?0:i(f,h):v?i(f+(f<0?Ae:-Ae),h):0;if(!n&&(a=u=v)&&t.lineStart(),v!==u&&(p=o(n,d),(!p||it(n,p)||it(d,p))&&(d[0]+=je,d[1]+=je,v=e(d[0],d[1]))),v!==u)s=0,v?(t.lineStart(),p=o(d,n),t.point(p[0],p[1])):(p=o(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(l&&n&&c^v){var m;g&r||!(m=o(d,n,!0))||(s=0,c?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!v||n&&it(n,d)||t.point(d[0],d[1]),n=d,u=v,r=g},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return s|(a&&u)<<1}}}function o(t,n,e){var r=_(t),o=_(n),i=[1,0,0],a=E(r,o),c=w(a,a),l=a[0],s=c-l*l;if(!s)return!e&&t;var f=u*c/s,h=-u*l/s,p=E(i,a),d=M(i,f),v=M(a,h);b(d,v);var g=p,m=w(d,g),x=w(g,g),S=m*m-x*(w(d,d)-1);if(!(S<0)){var T=Qe(S),C=M(g,(-m-T)/x);if(b(C,d),C=y(C),!e)return C;var P,k=t[0],O=n[0],N=t[1],z=n[1];O<k&&(P=k,k=O,O=P);var j=O-k,I=Ge(j-Ae)<je,A=I||j<je;if(!I&&z<N&&(P=N,N=z,z=P),A?I?N+z>0^C[1]<(Ge(C[0]-k)<je?N:z):N<=C[1]&&C[1]<=z:j>Ae^(k<=C[0]&&C[0]<=O)){var R=M(g,(-m+T)/x);return b(R,d),[C,y(R)]}}}function i(n,e){var r=c?t:Ae-t,o=0;return n<-r?o|=1:n>r&&(o|=2),e<-r?o|=4:e>r&&(o|=8),o}var u=He(t),a=6*qe,c=u>0,l=Ge(u)>je;return st(e,r,n,c?[0,-t]:[-Ae,t-Ae])}function mt(t,n,e,r,o,i){var u,a=t[0],c=t[1],l=n[0],s=n[1],f=0,h=1,p=l-a,d=s-c;if(u=e-a,p||!(u>0)){if(u/=p,p<0){if(u<f)return;u<h&&(h=u)}else if(p>0){if(u>h)return;u>f&&(f=u)}if(u=o-a,p||!(u<0)){if(u/=p,p<0){if(u>h)return;u>f&&(f=u)}else if(p>0){if(u<f)return;u<h&&(h=u)}if(u=r-c,d||!(u>0)){if(u/=d,d<0){if(u<f)return;u<h&&(h=u)}else if(d>0){if(u>h)return;u>f&&(f=u)}if(u=i-c,d||!(u<0)){if(u/=d,d<0){if(u>h)return;u>f&&(f=u)}else if(d>0){if(u<f)return;u<h&&(h=u)}return f>0&&(t[0]=a+f*p,t[1]=c+f*d),h<1&&(n[0]=a+h*p,n[1]=c+h*d),!0}}}}}function yt(t,e,r,o){function i(n,i){return t<=n&&n<=r&&e<=i&&i<=o}function u(n,i,u,c){var s=0,f=0;if(null==n||(s=a(n,u))!==(f=a(i,u))||l(n,i)<0^u>0){do c.point(0===s||3===s?t:r,s>1?o:e);while((s=(s+u+4)%4)!==f)}else c.point(i[0],i[1])}function a(n,o){return Ge(n[0]-t)<je?o>0?0:3:Ge(n[0]-r)<je?o>0?2:1:Ge(n[1]-e)<je?o>0?1:0:o>0?3:2}function c(t,n){return l(t.x,n.x)}function l(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){function l(t,n){i(t,n)&&C.point(t,n)}function s(){for(var n=0,e=0,r=m.length;e<r;++e)for(var i,u,a=m[e],c=1,l=a.length,s=a[0],f=s[0],h=s[1];c<l;++c)i=f,u=h,s=a[c],f=s[0],h=s[1],u<=o?h>o&&(f-i)*(o-u)>(h-u)*(t-i)&&++n:h<=o&&(f-i)*(o-u)<(h-u)*(t-i)&&--n;return n}function f(){C=P,g=[],m=[],T=!0}function h(){var t=s(),e=T&&t,r=(g=n.merge(g)).length;(e||r)&&(a.polygonStart(),e&&(a.lineStart(),u(null,null,1,a),a.lineEnd()),r&&at(g,c,t,u,a),a.polygonEnd()),C=a,g=m=y=null}function p(){k.point=v,m&&m.push(y=[]),S=!0,x=!1,b=M=NaN}function d(){g&&(v(_,w),E&&x&&P.rejoin(),g.push(P.result())),k.point=l,x&&C.lineEnd()}function v(n,u){var a=i(n,u);if(m&&y.push([n,u]),S)_=n,w=u,E=a,S=!1,a&&(C.lineStart(),C.point(n,u));else if(a&&x)C.point(n,u);else{var c=[b=Math.max(Er,Math.min(wr,b)),M=Math.max(Er,Math.min(wr,M))],l=[n=Math.max(Er,Math.min(wr,n)),u=Math.max(Er,Math.min(wr,u))];mt(c,l,t,e,r,o)?(x||(C.lineStart(),C.point(c[0],c[1])),C.point(l[0],l[1]),a||C.lineEnd(),T=!1):a&&(C.lineStart(),C.point(n,u),T=!1)}b=n,M=u,x=a}var g,m,y,_,w,E,b,M,x,S,T,C=a,P=ot(),k={point:l,lineStart:p,lineEnd:d,polygonStart:f,polygonEnd:h};return k}}function _t(){var t,n,e,r=0,o=0,i=960,u=500;return e={stream:function(e){return t&&n===e?t:t=yt(r,o,i,u)(n=e)},extent:function(a){return arguments.length?(r=+a[0][0],o=+a[0][1],i=+a[1][0],u=+a[1][1],t=n=null,e):[[r,o],[i,u]]}}}function wt(){Mr.point=bt,Mr.lineEnd=Et}function Et(){Mr.point=Mr.lineEnd=c}function bt(t,n){t*=qe,n*=qe,ar=t,cr=Je(n),lr=He(n),Mr.point=Mt}function Mt(t,n){t*=qe,n*=qe;var e=Je(n),r=He(n),o=Ge(t-ar),i=He(o),u=Je(o),a=r*u,c=lr*e-cr*r*i,l=cr*e+lr*r*i;br.add(Be(Qe(a*a+c*c),l)),ar=t,cr=e,lr=r}function xt(t){return br.reset(),h(t,Mr),+br}function St(t,n){return xr[0]=t,xr[1]=n,xt(Sr)}function Tt(t,n){return!(!t||!Cr.hasOwnProperty(t.type))&&Cr[t.type](t,n)}function Ct(t,n){return 0===St(t,n)}function Pt(t,n){var e=St(t[0],t[1]),r=St(t[0],n),o=St(n,t[1]);return r+o<=e+je}function kt(t,n){return!!lt(t.map(Ot),Nt(n))}function Ot(t){return t=t.map(Nt),t.pop(),t}function Nt(t){return[t[0]*qe,t[1]*qe]}function zt(t,n){return(t&&Tr.hasOwnProperty(t.type)?Tr[t.type]:Tt)(t,n)}function jt(t,e,r){var o=n.range(t,e-je,r).concat(e);return function(t){return o.map(function(n){return[t,n]})}}function It(t,e,r){var o=n.range(t,e-je,r).concat(e);return function(t){return o.map(function(n){return[n,t]})}}function At(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return n.range(Ye(u/m)*m,i,m).map(p).concat(n.range(Ye(s/y)*y,l,y).map(d)).concat(n.range(Ye(o/v)*v,r,v).filter(function(t){return Ge(t%m)>je}).map(f)).concat(n.range(Ye(c/g)*g,a,g).filter(function(t){return Ge(t%y)>je}).map(h))}var r,o,i,u,a,c,l,s,f,h,p,d,v=10,g=v,m=90,y=360,_=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(u).concat(d(l).slice(1),p(i).reverse().slice(1),d(s).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.extentMajor(n).extentMinor(n):t.extentMinor()},t.extentMajor=function(n){return arguments.length?(u=+n[0][0],i=+n[1][0],s=+n[0][1],l=+n[1][1],u>i&&(n=u,u=i,i=n),s>l&&(n=s,s=l,l=n),t.precision(_)):[[u,s],[i,l]]},t.extentMinor=function(n){return arguments.length?(o=+n[0][0],r=+n[1][0],c=+n[0][1],a=+n[1][1],o>r&&(n=o,o=r,r=n),c>a&&(n=c,c=a,a=n),t.precision(_)):[[o,c],[r,a]]},t.step=function(n){return arguments.length?t.stepMajor(n).stepMinor(n):t.stepMinor()},t.stepMajor=function(n){return arguments.length?(m=+n[0],y=+n[1],t):[m,y]},t.stepMinor=function(n){return arguments.length?(v=+n[0],g=+n[1],t):[v,g]},t.precision=function(n){return arguments.length?(_=+n,f=jt(c,a,90),h=It(o,r,_),p=jt(s,l,90),d=It(u,i,_),t):_},t.extentMajor([[-180,-90+je],[180,90-je]]).extentMinor([[-180,-80-je],[180,80+je]])}function Rt(){return At()()}function Dt(t,n){var e=t[0]*qe,r=t[1]*qe,o=n[0]*qe,i=n[1]*qe,c=He(r),l=Je(r),s=He(i),f=Je(i),h=c*He(e),p=c*Je(e),d=s*He(o),v=s*Je(o),g=2*u(Qe(a(i-r)+c*s*a(o-e))),m=Je(g),y=g?function(t){var n=Je(t*=g)/m,e=Je(g-t)/m,r=e*h+n*d,o=e*p+n*v,i=e*l+n*f;return[Be(o,r)*Fe,Be(i,Qe(r*r+o*o))*Fe]}:function(){return[e*Fe,r*Fe]};return y.distance=g,y}function Lt(t){return t}function Ft(){Or.point=qt}function qt(t,n){Or.point=Gt,sr=hr=t,fr=pr=n}function Gt(t,n){kr.add(pr*t-hr*n),hr=t,pr=n}function Wt(){Gt(sr,fr)}function Bt(t,n){t<Nr&&(Nr=t),t>jr&&(jr=t),n<zr&&(zr=n),n>Ir&&(Ir=n)}function Ht(t,n){Rr+=t,Dr+=n,++Lr}function Yt(){Yr.point=Xt}function Xt(t,n){Yr.point=Vt,Ht(gr=t,mr=n)}function Vt(t,n){var e=t-gr,r=n-mr,o=Qe(e*e+r*r);Fr+=o*(gr+t)/2,qr+=o*(mr+n)/2,Gr+=o,Ht(gr=t,mr=n)}function Ut(){Yr.point=Ht}function Jt(){Yr.point=Qt}function Zt(){Kt(dr,vr)}function Qt(t,n){Yr.point=Kt,Ht(dr=gr=t,vr=mr=n)}function Kt(t,n){var e=t-gr,r=n-mr,o=Qe(e*e+r*r);Fr+=o*(gr+t)/2,qr+=o*(mr+n)/2,Gr+=o,o=mr*t-gr*n,Wr+=o*(gr+t),Br+=o*(mr+n),Hr+=3*o,Ht(gr=t,mr=n)}function $t(t){this._context=t}function tn(t,n){Kr.point=nn,Vr=Jr=t,Ur=Zr=n}function nn(t,n){Jr-=t,Zr-=n,Qr.add(Qe(Jr*Jr+Zr*Zr)),Jr=t,Zr=n}function en(){this._string=[]}function rn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function on(t,n){function e(t){return t&&("function"==typeof i&&o.pointRadius(+i.apply(this,arguments)),h(t,r(o))),o.result()}var r,o,i=4.5;return e.area=function(t){return h(t,r(Or)),Or.result()},e.measure=function(t){return h(t,r(Kr)),Kr.result()},e.bounds=function(t){return h(t,r(Ar)),Ar.result()},e.centroid=function(t){return h(t,r(Yr)),Yr.result()},e.projection=function(n){return arguments.length?(r=null==n?(t=null,Lt):(t=n).stream,e):t},e.context=function(t){return arguments.length?(o=null==t?(n=null,new en):new $t(n=t),"function"!=typeof i&&o.pointRadius(i),e):n},e.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(o.pointRadius(+t),+t),e):i},e.projection(t).context(n)}function un(t){return{stream:an(t)}}function an(t){return function(n){var e=new cn;for(var r in t)e[r]=t[r];return e.stream=n,e}}function cn(){}function ln(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),h(e,t.stream(Ar)),n(Ar.result()),null!=r&&t.clipExtent(r),t}function sn(t,n,e){return ln(t,function(e){var r=n[1][0]-n[0][0],o=n[1][1]-n[0][1],i=Math.min(r/(e[1][0]-e[0][0]),o/(e[1][1]-e[0][1])),u=+n[0][0]+(r-i*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(o-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([u,a])},e)}function fn(t,n,e){return sn(t,[[0,0],n],e)}function hn(t,n,e){return ln(t,function(e){var r=+n,o=r/(e[1][0]-e[0][0]),i=(r-o*(e[1][0]+e[0][0]))/2,u=-o*e[0][1];t.scale(150*o).translate([i,u])},e)}function pn(t,n,e){return ln(t,function(e){var r=+n,o=r/(e[1][1]-e[0][1]),i=-o*e[0][0],u=(r-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([i,u])},e)}function dn(t,n){return+n?gn(t,n):vn(t)}function vn(t){return an({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function gn(t,n){function e(r,o,i,a,c,l,s,f,h,p,d,v,g,m){var y=s-r,_=f-o,w=y*y+_*_;if(w>4*n&&g--){var E=a+p,b=c+d,M=l+v,x=Qe(E*E+b*b+M*M),S=u(M/=x),T=Ge(Ge(M)-1)<je||Ge(i-h)<je?(i+h)/2:Be(b,E),C=t(T,S),P=C[0],k=C[1],O=P-r,N=k-o,z=_*O-y*N;(z*z/w>n||Ge((y*O+_*N)/w-.5)>.3||a*p+c*d+l*v<to)&&(e(r,o,i,a,c,l,P,k,T,E/=x,b/=x,M,g,m),m.point(P,k),e(P,k,T,E,b,M,s,f,h,p,d,v,g,m))}}return function(n){function r(e,r){e=t(e,r),n.point(e[0],e[1])}function o(){m=NaN,M.point=i,n.lineStart()}function i(r,o){var i=_([r,o]),u=t(r,o);e(m,y,g,w,E,b,m=u[0],y=u[1],g=r,w=i[0],E=i[1],b=i[2],$r,n),n.point(m,y)}function u(){M.point=r,n.lineEnd()}function a(){o(),M.point=c,M.lineEnd=l}function c(t,n){i(s=t,n),f=m,h=y,p=w,d=E,v=b,M.point=i}function l(){e(m,y,g,w,E,b,f,h,s,p,d,v,$r,n),M.lineEnd=u,u()}var s,f,h,p,d,v,g,m,y,w,E,b,M={point:r,lineStart:o,lineEnd:u,polygonStart:function(){n.polygonStart(),M.lineStart=a},polygonEnd:function(){n.polygonEnd(),M.lineStart=o}};return M}}function mn(t){return an({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function yn(t,n,e){function r(r,o){return[n+t*r,e-t*o]}return r.invert=function(r,o){return[(r-n)/t,(e-o)/t]},r}function _n(t,n,e,r){function o(t,r){return[a*t-c*r+n,e-c*t-a*r]}var i=He(r),u=Je(r),a=i*t,c=u*t,l=i/t,s=u/t,f=(u*e-i*n)/t,h=(u*n+i*e)/t;return o.invert=function(t,n){return[l*t-s*n+f,h-s*t-l*n]},o}function wn(t){return En(function(){return t})()}function En(t){function n(t){return h(t[0]*qe,t[1]*qe)}function e(t){return t=h.invert(t[0],t[1]),t&&[t[0]*Fe,t[1]*Fe]}function r(){var t=_n(v,0,0,M).apply(null,i(y,_)),n=(M?_n:yn)(v,g-t[0],m-t[1],M);return u=Z(w,E,b),f=U(i,n),h=U(u,f),s=dn(f,P),o()}function o(){return p=d=null,n}var i,u,a,c,l,s,f,h,p,d,v=150,g=480,m=250,y=0,_=0,w=0,E=0,b=0,M=0,x=null,S=_r,T=null,C=Lt,P=.5;return n.stream=function(t){return p&&d===t?p:p=no(mn(u)(S(s(C(d=t)))))},n.preclip=function(t){return arguments.length?(S=t,x=void 0,o()):S},n.postclip=function(t){return arguments.length?(C=t,T=a=c=l=null,o()):C},n.clipAngle=function(t){return arguments.length?(S=+t?gt(x=t*qe):(x=null,_r),o()):x*Fe},n.clipExtent=function(t){return arguments.length?(C=null==t?(T=a=c=l=null,Lt):yt(T=+t[0][0],a=+t[0][1],c=+t[1][0],l=+t[1][1]),o()):null==T?null:[[T,a],[c,l]]},n.scale=function(t){return arguments.length?(v=+t,r()):v},n.translate=function(t){return arguments.length?(g=+t[0],m=+t[1],r()):[g,m]},n.center=function(t){return arguments.length?(y=t[0]%360*qe,_=t[1]%360*qe,r()):[y*Fe,_*Fe]},n.rotate=function(t){return arguments.length?(w=t[0]%360*qe,E=t[1]%360*qe,b=t.length>2?t[2]%360*qe:0,r()):[w*Fe,E*Fe,b*Fe]},n.angle=function(t){return arguments.length?(M=t%360*qe,r()):M*Fe},n.precision=function(t){return arguments.length?(s=dn(f,P=t*t),o()):Qe(P)},n.fitExtent=function(t,e){return sn(n,t,e)},n.fitSize=function(t,e){return fn(n,t,e)},n.fitWidth=function(t,e){return hn(n,t,e)},n.fitHeight=function(t,e){return pn(n,t,e)},function(){return i=t.apply(this,arguments),n.invert=i.invert&&e,r()}}function bn(t){var n=0,e=Ae/3,r=En(t),o=r(n,e);return o.parallels=function(t){return arguments.length?r(n=t[0]*qe,e=t[1]*qe):[n*Fe,e*Fe]},o}function Mn(t){function n(t,n){return[t*e,Je(n)/e]}var e=He(t);return n.invert=function(t,n){return[t/e,u(n*e)]},n}function xn(t,n){function e(t,n){var e=Qe(i-2*o*Je(n))/o;return[e*Je(t*=o),a-e*He(t)]}var r=Je(t),o=(r+Je(n))/2;if(Ge(o)<je)return Mn(t);var i=1+r*(2*o-r),a=Qe(i)/o;return e.invert=function(t,n){var e=a-n;return[Be(t,Ge(e))/o*Ze(e),u((i-(t*t+e*e)*o*o)/(2*o))]},e}function Sn(){return bn(xn).scale(155.424).center([0,33.6442])}function Tn(){return Sn().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Cn(t){var n=t.length;return{point:function(e,r){for(var o=-1;++o<n;)t[o].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function Pn(){function t(t){var n=t[0],e=t[1];return a=null,o.point(n,e),a||(i.point(n,e),a)||(u.point(n,e),a)}function n(){return e=r=null,t}var e,r,o,i,u,a,c=Tn(),l=Sn().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Sn().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,n){a=[t,n]}};return t.invert=function(t){var n=c.scale(),e=c.translate(),r=(t[0]-e[0])/n,o=(t[1]-e[1])/n;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?l:o>=.166&&o<.234&&r>=-.214&&r<-.115?s:c).invert(t)},t.stream=function(t){return e&&r===t?e:e=Cn([c.stream(r=t),l.stream(t),s.stream(t)])},t.precision=function(t){return arguments.length?(c.precision(t),l.precision(t),s.precision(t),n()):c.precision()},t.scale=function(n){return arguments.length?(c.scale(n),l.scale(.35*n),s.scale(n),t.translate(c.translate())):c.scale()},t.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),r=+t[0],a=+t[1];return o=c.translate(t).clipExtent([[r-.455*e,a-.238*e],[r+.455*e,a+.238*e]]).stream(f),
i=l.translate([r-.307*e,a+.201*e]).clipExtent([[r-.425*e+je,a+.12*e+je],[r-.214*e-je,a+.234*e-je]]).stream(f),u=s.translate([r-.205*e,a+.212*e]).clipExtent([[r-.214*e+je,a+.166*e+je],[r-.115*e-je,a+.234*e-je]]).stream(f),n()},t.fitExtent=function(n,e){return sn(t,n,e)},t.fitSize=function(n,e){return fn(t,n,e)},t.fitWidth=function(n,e){return hn(t,n,e)},t.fitHeight=function(n,e){return pn(t,n,e)},t.scale(1070)}function kn(t){return function(n,e){var r=He(n),o=He(e),i=t(r*o);return[i*o*Je(n),i*Je(e)]}}function On(t){return function(n,e){var r=Qe(n*n+e*e),o=t(r),i=Je(o),a=He(o);return[Be(n*i,r*a),u(r&&e*i/r)]}}function Nn(){return wn(eo).scale(124.75).clipAngle(179.999)}function zn(){return wn(ro).scale(79.4188).clipAngle(179.999)}function jn(t,n){return[t,Ve(Ke((Re+n)/2))]}function In(){return An(jn).scale(961/Le)}function An(t){function n(){var n=Ae*a(),u=i(tt(i.rotate()).invert([0,0]));return l(null==s?[[u[0]-n,u[1]-n],[u[0]+n,u[1]+n]]:t===jn?[[Math.max(u[0]-n,s),e],[Math.min(u[0]+n,r),o]]:[[s,Math.max(u[1]-n,e)],[r,Math.min(u[1]+n,o)]])}var e,r,o,i=wn(t),u=i.center,a=i.scale,c=i.translate,l=i.clipExtent,s=null;return i.scale=function(t){return arguments.length?(a(t),n()):a()},i.translate=function(t){return arguments.length?(c(t),n()):c()},i.center=function(t){return arguments.length?(u(t),n()):u()},i.clipExtent=function(t){return arguments.length?(null==t?s=e=r=o=null:(s=+t[0][0],e=+t[0][1],r=+t[1][0],o=+t[1][1]),n()):null==s?null:[[s,e],[r,o]]},n()}function Rn(t){return Ke((Re+t)/2)}function Dn(t,n){function e(t,n){i>0?n<-Re+je&&(n=-Re+je):n>Re-je&&(n=Re-je);var e=i/Ue(Rn(n),o);return[e*Je(o*t),i-e*He(o*t)]}var r=He(t),o=t===n?Je(t):Ve(r/He(n))/Ve(Rn(n)/Rn(t)),i=r*Ue(Rn(t),o)/o;return o?(e.invert=function(t,n){var e=i-n,r=Ze(o)*Qe(t*t+e*e);return[Be(t,Ge(e))/o*Ze(e),2*We(Ue(i/r,1/o))-Re]},e):jn}function Ln(){return bn(Dn).scale(109.5).parallels([30,30])}function Fn(t,n){return[t,n]}function qn(){return wn(Fn).scale(152.63)}function Gn(t,n){function e(t,n){var e=i-n,r=o*t;return[e*Je(r),i-e*He(r)]}var r=He(t),o=t===n?Je(t):(r-He(n))/(n-t),i=r/o+t;return Ge(o)<je?Fn:(e.invert=function(t,n){var e=i-n;return[Be(t,Ge(e))/o*Ze(e),i-Ze(o)*Qe(t*t+e*e)]},e)}function Wn(){return bn(Gn).scale(131.154).center([0,13.9389])}function Bn(t,n){var e=He(n),r=He(t)*e;return[e*Je(t)/r,Je(n)/r]}function Hn(){return wn(Bn).scale(144.049).clipAngle(60)}function Yn(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?Lt:an({point:function(o,i){this.stream.point(o*t+e,i*n+r)}})}function Xn(){function t(){return o=i=null,u}var n,e,r,o,i,u,a=1,c=0,l=0,s=1,f=1,h=Lt,p=null,d=Lt;return u={stream:function(t){return o&&i===t?o:o=h(d(i=t))},postclip:function(o){return arguments.length?(d=o,p=n=e=r=null,t()):d},clipExtent:function(o){return arguments.length?(d=null==o?(p=n=e=r=null,Lt):yt(p=+o[0][0],n=+o[0][1],e=+o[1][0],r=+o[1][1]),t()):null==p?null:[[p,n],[e,r]]},scale:function(n){return arguments.length?(h=Yn((a=+n)*s,a*f,c,l),t()):a},translate:function(n){return arguments.length?(h=Yn(a*s,a*f,c=+n[0],l=+n[1]),t()):[c,l]},reflectX:function(n){return arguments.length?(h=Yn(a*(s=n?-1:1),a*f,c,l),t()):s<0},reflectY:function(n){return arguments.length?(h=Yn(a*s,a*(f=n?-1:1),c,l),t()):f<0},fitExtent:function(t,n){return sn(u,t,n)},fitSize:function(t,n){return fn(u,t,n)},fitWidth:function(t,n){return hn(u,t,n)},fitHeight:function(t,n){return pn(u,t,n)}}}function Vn(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(-.013791+r*(.003971*e-.001529*r))),n*(1.007226+e*(.015085+r*(-.044475+.028874*e-.005916*r)))]}function Un(){return wn(Vn).scale(175.295)}function Jn(t,n){return[He(n)*Je(t),Je(n)]}function Zn(){return wn(Jn).scale(249.5).clipAngle(90+je)}function Qn(t,n){var e=He(n),r=1+He(t)*e;return[e*Je(t)/r,Je(n)/r]}function Kn(){return wn(Qn).scale(250).clipAngle(142)}function $n(t,n){return[Ve(Ke((Re+n)/2)),-t]}function te(){var t=An($n),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)}r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(t){o(ze,t,this.t),o(this,ze.s,this.s),this.s?this.t+=ze.t:this.s=ze.t},valueOf:function(){return this.s}};var ne,ee,re,oe,ie,ue,ae,ce,le,se,fe,he,pe,de,ve,ge,me,ye,_e,we,Ee,be,Me,xe,Se,Te,Ce,Pe,ke,Oe,Ne,ze=new r,je=1e-6,Ie=1e-12,Ae=Math.PI,Re=Ae/2,De=Ae/4,Le=2*Ae,Fe=180/Ae,qe=Ae/180,Ge=Math.abs,We=Math.atan,Be=Math.atan2,He=Math.cos,Ye=Math.ceil,Xe=Math.exp,Ve=Math.log,Ue=Math.pow,Je=Math.sin,Ze=Math.sign||function(t){return t>0?1:t<0?-1:0},Qe=Math.sqrt,Ke=Math.tan,$e={Feature:function(t,n){l(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,o=e.length;++r<o;)l(e[r].geometry,n)}},tr={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){s(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)s(e[r],n,0)},Polygon:function(t,n){f(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)f(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,o=e.length;++r<o;)l(e[r],n)}},nr=e(),er=e(),rr={point:c,lineStart:c,lineEnd:c,polygonStart:function(){nr.reset(),rr.lineStart=p,rr.lineEnd=d},polygonEnd:function(){var t=+nr;er.add(t<0?Le+t:t),this.lineStart=this.lineEnd=this.point=c},sphere:function(){er.add(Le)}},or=e(),ir={point:S,lineStart:C,lineEnd:P,polygonStart:function(){ir.point=k,ir.lineStart=O,ir.lineEnd=N,or.reset(),rr.polygonStart()},polygonEnd:function(){rr.polygonEnd(),ir.point=S,ir.lineStart=C,ir.lineEnd=P,nr<0?(ue=-(ce=180),ae=-(le=90)):or>je?le=90:or<-je&&(ae=-90),ve[0]=ue,ve[1]=ce}},ur={sphere:c,point:R,lineStart:L,lineEnd:G,polygonStart:function(){ur.lineStart=W,ur.lineEnd=B},polygonEnd:function(){ur.lineStart=L,ur.lineEnd=G}};J.invert=J;var ar,cr,lr,sr,fr,hr,pr,dr,vr,gr,mr,yr=e(),_r=st(function(){return!0},pt,vt,[-Ae,-Re]),wr=1e9,Er=-wr,br=e(),Mr={sphere:c,point:c,lineStart:wt,lineEnd:c,polygonStart:c,polygonEnd:c},xr=[null,null],Sr={type:"LineString",coordinates:xr},Tr={Feature:function(t,n){return Tt(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,o=e.length;++r<o;)if(Tt(e[r].geometry,n))return!0;return!1}},Cr={Sphere:function(){return!0},Point:function(t,n){return Ct(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)if(Ct(e[r],n))return!0;return!1},LineString:function(t,n){return Pt(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)if(Pt(e[r],n))return!0;return!1},Polygon:function(t,n){return kt(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)if(kt(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,o=e.length;++r<o;)if(Tt(e[r],n))return!0;return!1}},Pr=e(),kr=e(),Or={point:c,lineStart:c,lineEnd:c,polygonStart:function(){Or.lineStart=Ft,Or.lineEnd=Wt},polygonEnd:function(){Or.lineStart=Or.lineEnd=Or.point=c,Pr.add(Ge(kr)),kr.reset()},result:function(){var t=Pr/2;return Pr.reset(),t}},Nr=1/0,zr=Nr,jr=-Nr,Ir=jr,Ar={point:Bt,lineStart:c,lineEnd:c,polygonStart:c,polygonEnd:c,result:function(){var t=[[Nr,zr],[jr,Ir]];return jr=Ir=-(zr=Nr=1/0),t}},Rr=0,Dr=0,Lr=0,Fr=0,qr=0,Gr=0,Wr=0,Br=0,Hr=0,Yr={point:Ht,lineStart:Yt,lineEnd:Ut,polygonStart:function(){Yr.lineStart=Jt,Yr.lineEnd=Zt},polygonEnd:function(){Yr.point=Ht,Yr.lineStart=Yt,Yr.lineEnd=Ut},result:function(){var t=Hr?[Wr/Hr,Br/Hr]:Gr?[Fr/Gr,qr/Gr]:Lr?[Rr/Lr,Dr/Lr]:[NaN,NaN];return Rr=Dr=Lr=Fr=qr=Gr=Wr=Br=Hr=0,t}};$t.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Le)}},result:c};var Xr,Vr,Ur,Jr,Zr,Qr=e(),Kr={point:c,lineStart:function(){Kr.point=tn},lineEnd:function(){Xr&&nn(Vr,Ur),Kr.point=c},polygonStart:function(){Xr=!0},polygonEnd:function(){Xr=null},result:function(){var t=+Qr;return Qr.reset(),t}};en.prototype={_radius:4.5,_circle:rn(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=rn(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},cn.prototype={constructor:cn,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var $r=16,to=He(30*qe),no=an({point:function(t,n){this.stream.point(t*qe,n*qe)}}),eo=kn(function(t){return Qe(2/(1+t))});eo.invert=On(function(t){return 2*u(t/2)});var ro=kn(function(t){return(t=i(t))&&t/Je(t)});ro.invert=On(function(t){return t}),jn.invert=function(t,n){return[t,2*We(Xe(n))-Re]},Fn.invert=Fn,Bn.invert=On(We),Vn.invert=function(t,n){var e,r=n,o=25;do{var i=r*r,u=i*i;r-=e=(r*(1.007226+i*(.015085+u*(-.044475+.028874*i-.005916*u)))-n)/(1.007226+i*(.045255+u*(-.311325+.259866*i-.005916*11*u)))}while(Ge(e)>je&&--o>0);return[t/(.8707+(i=r*r)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),r]},Jn.invert=On(u),Qn.invert=On(function(t){return 2*We(t)}),$n.invert=function(t,n){return[-n,2*We(Xe(t))-Re]},t.geoArea=m,t.geoBounds=A,t.geoCentroid=X,t.geoCircle=rt,t.geoClipAntimeridian=_r,t.geoClipCircle=gt,t.geoClipExtent=_t,t.geoClipRectangle=yt,t.geoContains=zt,t.geoDistance=St,t.geoGraticule=At,t.geoGraticule10=Rt,t.geoInterpolate=Dt,t.geoLength=xt,t.geoPath=on,t.geoAlbers=Tn,t.geoAlbersUsa=Pn,t.geoAzimuthalEqualArea=Nn,t.geoAzimuthalEqualAreaRaw=eo,t.geoAzimuthalEquidistant=zn,t.geoAzimuthalEquidistantRaw=ro,t.geoConicConformal=Ln,t.geoConicConformalRaw=Dn,t.geoConicEqualArea=Sn,t.geoConicEqualAreaRaw=xn,t.geoConicEquidistant=Wn,t.geoConicEquidistantRaw=Gn,t.geoEquirectangular=qn,t.geoEquirectangularRaw=Fn,t.geoGnomonic=Hn,t.geoGnomonicRaw=Bn,t.geoIdentity=Xn,t.geoProjection=wn,t.geoProjectionMutator=En,t.geoMercator=In,t.geoMercatorRaw=jn,t.geoNaturalEarth1=Un,t.geoNaturalEarth1Raw=Vn,t.geoOrthographic=Zn,t.geoOrthographicRaw=Jn,t.geoStereographic=Kn,t.geoStereographicRaw=Qn,t.geoTransverseMercator=te,t.geoTransverseMercatorRaw=$n,t.geoRotation=tt,t.geoStream=h,t.geoTransform=un,Object.defineProperty(t,"__esModule",{value:!0})})},169:function(t,n,e){!function(t,e){e(n)}(this,function(t){"use strict";function n(){return m||(w(e),m=_.now()+y)}function e(){m=0}function r(){this._call=this._time=this._next=null}function o(t,n,e){var o=new r;return o.restart(t,n,e),o}function i(){n(),++h;for(var t,e=s;e;)(t=m-e._time)>=0&&e._call.call(null,t),e=e._next;--h}function u(){m=(g=_.now())+y,h=p=0;try{i()}finally{h=0,c(),m=0}}function a(){var t=_.now(),n=t-g;n>v&&(y-=n,g=t)}function c(){for(var t,n,e=s,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:s=n);f=t,l(r)}function l(t){if(!h){p&&(p=clearTimeout(p));var n=t-m;n>24?(t<1/0&&(p=setTimeout(u,t-_.now()-y)),d&&(d=clearInterval(d))):(d||(g=_.now(),d=setInterval(a,v)),h=1,w(u))}}var s,f,h=0,p=0,d=0,v=1e3,g=0,m=0,y=0,_="object"==typeof performance&&performance.now?performance:Date,w="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};r.prototype=o.prototype={constructor:r,restart:function(t,e,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?n():+r)+(null==e?0:+e),this._next||f===this||(f?f._next=this:s=this,f=this),this._call=t,this._time=r,l()},stop:function(){this._call&&(this._call=null,this._time=1/0,l())}};var E=function(t,n,e){var o=new r;return n=null==n?0:+n,o.restart(function(e){o.stop(),t(e+n)},n,e),o},b=function(t,e,o){var i=new r,u=e;return null==e?(i.restart(t,e,o),i):(e=+e,o=null==o?n():+o,i.restart(function n(r){r+=u,i.restart(n,u+=e,o),t(r)},e,o),i)};t.now=n,t.timer=o,t.timerFlush=i,t.timeout=E,t.interval=b,Object.defineProperty(t,"__esModule",{value:!0})})},365:function(t,n,e){!function(t,r){r(n,e(23),e(64),e(169),e(65),e(238),e(361))}(this,function(t,n,e,r,o,i,u){"use strict";function a(t,n){var e=l(t,n);if(e.state>B)throw new Error("too late; already scheduled");return e}function c(t,n){var e=l(t,n);if(e.state>Y)throw new Error("too late; already started");return e}function l(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function s(t,n,e){function o(t){e.state=H,e.timer.restart(i,e.delay,e.time),e.delay<=t&&i(t-e.delay)}function i(o){var s,f,h,p;if(e.state!==H)return a();for(s in l)if(p=l[s],p.name===e.name){if(p.state===X)return r.timeout(i);p.state===V?(p.state=J,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete l[s]):+s<n&&(p.state=J,p.timer.stop(),delete l[s])}if(r.timeout(function(){e.state===X&&(e.state=V,e.timer.restart(u,e.delay,e.time),u(o))}),e.state=Y,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Y){for(e.state=X,c=new Array(h=e.tween.length),s=0,f=-1;s<h;++s)(p=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(c[++f]=p);c.length=f+1}}function u(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=U,1),o=-1,i=c.length;++o<i;)c[o].call(null,r);e.state===U&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){e.state=J,e.timer.stop(),delete l[n];for(var r in l)return;delete t.__transition}var c,l=t.__transition;l[n]=e,e.timer=r.timer(o,0,e.time)}function f(t,n){var e,r;return function(){var o=c(this,t),i=o.tween;if(i!==e){r=e=i;for(var u=0,a=r.length;u<a;++u)if(r[u].name===n){r=r.slice(),r.splice(u,1);break}}o.tween=r}}function h(t,n,e){var r,o;if("function"!=typeof e)throw new Error;return function(){var i=c(this,t),u=i.tween;if(u!==r){o=(r=u).slice();for(var a={name:n,value:e},l=0,s=o.length;l<s;++l)if(o[l].name===n){o[l]=a;break}l===s&&o.push(a)}i.tween=o}}function p(t,n,e){var r=t._id;return t.each(function(){var t=c(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return l(t,r).value[n]}}function d(t){return function(){this.removeAttribute(t)}}function v(t){return function(){this.removeAttributeNS(t.space,t.local)}}function g(t,n,e){var r,o;return function(){var i=this.getAttribute(t);return i===e?null:i===r?o:o=n(r=i,e)}}function m(t,n,e){var r,o;return function(){var i=this.getAttributeNS(t.space,t.local);return i===e?null:i===r?o:o=n(r=i,e)}}function y(t,n,e){var r,o,i;return function(){var u,a=e(this);return null==a?void this.removeAttribute(t):(u=this.getAttribute(t),u===a?null:u===r&&a===o?i:i=n(r=u,o=a))}}function _(t,n,e){var r,o,i;return function(){var u,a=e(this);return null==a?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),u===a?null:u===r&&a===o?i:i=n(r=u,o=a))}}function w(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}function E(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e}function b(t,n){return function(){a(this,t).delay=+n.apply(this,arguments)}}function M(t,n){return n=+n,function(){a(this,t).delay=n}}function x(t,n){return function(){c(this,t).duration=+n.apply(this,arguments)}}function S(t,n){return n=+n,function(){c(this,t).duration=n}}function T(t,n){if("function"!=typeof n)throw new Error;return function(){c(this,t).ease=n}}function C(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}function P(t,n,e){var r,o,i=C(n)?a:c;return function(){var u=i(this,t),a=u.on;a!==r&&(o=(r=a).copy()).on(n,e),u.on=o}}function k(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function O(t,e){var r,o,i;return function(){var u=n.style(this,t),a=(this.style.removeProperty(t),n.style(this,t));return u===a?null:u===r&&a===o?i:i=e(r=u,o=a)}}function N(t){return function(){this.style.removeProperty(t)}}function z(t,e,r){var o,i;return function(){var u=n.style(this,t);return u===r?null:u===o?i:i=e(o=u,r)}}function j(t,e,r){var o,i,u;return function(){var a=n.style(this,t),c=r(this);return null==c&&(this.style.removeProperty(t),c=n.style(this,t)),a===c?null:a===o&&c===i?u:u=e(o=a,i=c)}}function I(t,n,e){function r(){var r=this,o=n.apply(r,arguments);return o&&function(n){r.style.setProperty(t,o(n),e)}}return r._value=n,r}function A(t){return function(){this.textContent=t}}function R(t){return function(){var n=t(this);this.textContent=null==n?"":n}}function D(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function L(t){return n.selection().transition(t)}function F(){return++yt}function q(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return wt.time=r.now(),wt;return e}var G=e.dispatch("start","end","interrupt"),W=[],B=0,H=1,Y=2,X=3,V=4,U=5,J=6,Z=function(t,n,e,r,o,i){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};s(t,e,{name:n,index:r,group:o,on:G,tween:W,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:B})},Q=function(t,n){var e,r,o,i=t.__transition,u=!0;if(i){n=null==n?null:n+"";for(o in i)(e=i[o]).name===n?(r=e.state>Y&&e.state<U,e.state=J,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete i[o]):u=!1;u&&delete t.__transition}},K=function(t){return this.each(function(){Q(this,t)})},$=function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,o=l(this.node(),e).tween,i=0,u=o.length;i<u;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==n?f:h)(e,t,n))},tt=function(t,n){var e;return("number"==typeof n?o.interpolateNumber:n instanceof i.color?o.interpolateRgb:(e=i.color(n))?(n=e,o.interpolateRgb):o.interpolateString)(t,n)},nt=function(t,e){var r=n.namespace(t),i="transform"===r?o.interpolateTransformSvg:tt;return this.attrTween(t,"function"==typeof e?(r.local?_:y)(r,i,p(this,"attr."+t,e)):null==e?(r.local?v:d)(r):(r.local?m:g)(r,i,e+""))},et=function(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;var o=n.namespace(t);return this.tween(r,(o.local?w:E)(o,e))},rt=function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?b:M)(n,t)):l(this.node(),n).delay},ot=function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?x:S)(n,t)):l(this.node(),n).duration},it=function(t){var n=this._id;return arguments.length?this.each(T(n,t)):l(this.node(),n).ease},ut=function(t){"function"!=typeof t&&(t=n.matcher(t));for(var e=this._groups,r=e.length,o=new Array(r),i=0;i<r;++i)for(var u,a=e[i],c=a.length,l=o[i]=[],s=0;s<c;++s)(u=a[s])&&t.call(u,u.__data__,s,a)&&l.push(u);return new D(o,this._parents,this._name,this._id)},at=function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,o=e.length,i=Math.min(r,o),u=new Array(r),a=0;a<i;++a)for(var c,l=n[a],s=e[a],f=l.length,h=u[a]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new D(u,this._parents,this._name,this._id)},ct=function(t,n){var e=this._id;return arguments.length<2?l(this.node(),e).on.on(t):this.each(P(e,t,n))},lt=function(){return this.on("end.remove",k(this._id))},st=function(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=n.selector(t));for(var o=this._groups,i=o.length,u=new Array(i),a=0;a<i;++a)for(var c,s,f=o[a],h=f.length,p=u[a]=new Array(h),d=0;d<h;++d)(c=f[d])&&(s=t.call(c,c.__data__,d,f))&&("__data__"in c&&(s.__data__=c.__data__),p[d]=s,Z(p[d],e,r,d,p,l(c,r)));return new D(u,this._parents,e,r)},ft=function(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=n.selectorAll(t));for(var o=this._groups,i=o.length,u=[],a=[],c=0;c<i;++c)for(var s,f=o[c],h=f.length,p=0;p<h;++p)if(s=f[p]){for(var d,v=t.call(s,s.__data__,p,f),g=l(s,r),m=0,y=v.length;m<y;++m)(d=v[m])&&Z(d,e,r,m,v,g);u.push(v),a.push(s)}return new D(u,a,e,r)},ht=n.selection.prototype.constructor,pt=function(){return new ht(this._groups,this._parents)},dt=function(t,n,e){var r="transform"==(t+="")?o.interpolateTransformCss:tt;return null==n?this.styleTween(t,O(t,r)).on("end.style."+t,N(t)):this.styleTween(t,"function"==typeof n?j(t,r,p(this,"style."+t,n)):z(t,r,n+""),e)},vt=function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,I(t,n,null==e?"":e))},gt=function(t){return this.tween("text","function"==typeof t?R(p(this,"text",t)):A(null==t?"":t+""))},mt=function(){for(var t=this._name,n=this._id,e=F(),r=this._groups,o=r.length,i=0;i<o;++i)for(var u,a=r[i],c=a.length,s=0;s<c;++s)if(u=a[s]){var f=l(u,n);Z(u,t,e,s,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new D(r,this._parents,t,e)},yt=0,_t=n.selection.prototype;D.prototype=L.prototype={constructor:D,select:st,selectAll:ft,filter:ut,merge:at,selection:pt,transition:mt,call:_t.call,nodes:_t.nodes,node:_t.node,size:_t.size,empty:_t.empty,each:_t.each,on:ct,attr:nt,attrTween:et,style:dt,styleTween:vt,text:gt,remove:lt,tween:$,delay:rt,duration:ot,ease:it};var wt={time:null,delay:0,duration:250,ease:u.easeCubicInOut},Et=function(t){var n,e;t instanceof D?(n=t._id,t=t._name):(n=F(),(e=wt).time=r.now(),t=null==t?null:t+"");for(var o=this._groups,i=o.length,u=0;u<i;++u)for(var a,c=o[u],l=c.length,s=0;s<l;++s)(a=c[s])&&Z(a,t,n,s,c,e||q(a,n));return new D(o,this._parents,t,n)};n.selection.prototype.interrupt=K,n.selection.prototype.transition=Et;var bt=[null],Mt=function(t,n){var e,r,o=t.__transition;if(o){n=null==n?null:n+"";for(r in o)if((e=o[r]).state>H&&e.name===n)return new D([[t]],bt,n,+r)}return null};t.transition=L,t.active=Mt,t.interrupt=Q,Object.defineProperty(t,"__esModule",{value:!0})})},366:function(t,n,e){!function(t,r){r(n,e(64),e(168),e(65),e(23),e(365))}(this,function(t,n,e,r,o,i){"use strict";function u(t,n,e){this.target=t,this.type=n,this.transform=e}function a(t,n,e){this.k=t,this.x=n,this.y=e}function c(t){return t.__zoom||m}function l(){o.event.stopImmediatePropagation()}function s(){return!o.event.button}function f(){var t,n,e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,t=e.width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function h(){return this.__zoom||m}function p(){return-o.event.deltaY*(o.event.deltaMode?120:1)/500}function d(){return"ontouchstart"in this}function v(t,n,e){var r=t.invertX(n[0][0])-e[0][0],o=t.invertX(n[1][0])-e[1][0],i=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),u>i?(i+u)/2:Math.min(0,i)||Math.max(0,u))}var g=function(t){return function(){return t}};a.prototype={constructor:a,scale:function(t){return 1===t?this:new a(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new a(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var m=new a(1,0,0);c.prototype=a.prototype;var y=function(){o.event.preventDefault(),o.event.stopImmediatePropagation()},_=function(){function t(t){t.property("__zoom",h).on("wheel.zoom",x).on("mousedown.zoom",S).on("dblclick.zoom",T).filter(R).on("touchstart.zoom",C).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(t,n){return n=Math.max(D[0],Math.min(D[1],n)),n===t.k?t:new a(n,t.x,t.y)}function _(t,n,e){var r=n[0]-e[0]*t.k,o=n[1]-e[1]*t.k;return r===t.x&&o===t.y?t:new a(t.k,r,o)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function E(t,n,e){t.on("start.zoom",function(){b(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).end()}).tween("zoom",function(){var t=this,r=arguments,o=b(t,r),i=j.apply(t,r),u=e||w(i),c=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),l=t.__zoom,s="function"==typeof n?n.apply(t,r):n,f=q(l.invert(u).concat(c/l.k),s.invert(u).concat(c/s.k));return function(t){if(1===t)t=s;else{var n=f(t),e=c/n[2];t=new a(e,u[0]-n[0]*e,u[1]-n[1]*e)}o.zoom(null,t)}})}function b(t,n){for(var e,r=0,o=G.length;r<o;++r)if((e=G[r]).that===t)return e;return new M(t,n)}function M(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=j.apply(t,n)}function x(){function t(){n.wheel=null,n.end()}if(z.apply(this,arguments)){var n=b(this,arguments),e=this.__zoom,r=Math.max(D[0],Math.min(D[1],e.k*Math.pow(2,A.apply(this,arguments)))),u=o.mouse(this);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=e.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(e.k===r)return;n.mouse=[u,e.invert(u)],i.interrupt(this),n.start()}y(),n.wheel=setTimeout(t,H),n.zoom("mouse",I(_(c(e,r),n.mouse[0],n.mouse[1]),n.extent,L))}}function S(){function t(){if(y(),!r.moved){var t=o.event.clientX-c,n=o.event.clientY-s;r.moved=t*t+n*n>Y}r.zoom("mouse",I(_(r.that.__zoom,r.mouse[0]=o.mouse(r.that),r.mouse[1]),r.extent,L))}function n(){u.on("mousemove.zoom mouseup.zoom",null),e.dragEnable(o.event.view,r.moved),y(),r.end()}if(!N&&z.apply(this,arguments)){var r=b(this,arguments),u=o.select(o.event.view).on("mousemove.zoom",t,!0).on("mouseup.zoom",n,!0),a=o.mouse(this),c=o.event.clientX,s=o.event.clientY;e.dragDisable(o.event.view),l(),r.mouse=[a,this.__zoom.invert(a)],i.interrupt(this),r.start()}}function T(){if(z.apply(this,arguments)){var n=this.__zoom,e=o.mouse(this),r=n.invert(e),i=n.k*(o.event.shiftKey?.5:2),u=I(_(c(n,i),e,r),j.apply(this,arguments),L);y(),F>0?o.select(this).transition().duration(F).call(E,u,e):o.select(this).call(t.transform,u)}}function C(){if(z.apply(this,arguments)){var t,n,e,r,u=b(this,arguments),a=o.event.changedTouches,c=a.length;for(l(),n=0;n<c;++n)e=a[n],r=o.touch(this,a,e.identifier),r=[r,this.__zoom.invert(r),e.identifier],u.touch0?u.touch1||(u.touch1=r):(u.touch0=r,t=!0);return O&&(O=clearTimeout(O),!u.touch1)?(u.end(),r=o.select(this).on("dblclick.zoom"),void(r&&r.apply(this,arguments))):void(t&&(O=setTimeout(function(){O=null},B),i.interrupt(this),u.start()))}}function P(){var t,n,e,r,i=b(this,arguments),u=o.event.changedTouches,a=u.length;for(y(),O&&(O=clearTimeout(O)),t=0;t<a;++t)n=u[t],e=o.touch(this,u,n.identifier),i.touch0&&i.touch0[2]===n.identifier?i.touch0[0]=e:i.touch1&&i.touch1[2]===n.identifier&&(i.touch1[0]=e);if(n=i.that.__zoom,i.touch1){var l=i.touch0[0],s=i.touch0[1],f=i.touch1[0],h=i.touch1[1],p=(p=f[0]-l[0])*p+(p=f[1]-l[1])*p,d=(d=h[0]-s[0])*d+(d=h[1]-s[1])*d;n=c(n,Math.sqrt(p/d)),e=[(l[0]+f[0])/2,(l[1]+f[1])/2],r=[(s[0]+h[0])/2,(s[1]+h[1])/2]}else{if(!i.touch0)return;e=i.touch0[0],r=i.touch0[1]}i.zoom("touch",I(_(n,e,r),i.extent,L))}function k(){var t,n,e=b(this,arguments),r=o.event.changedTouches,i=r.length;for(l(),N&&clearTimeout(N),N=setTimeout(function(){N=null},B),t=0;t<i;++t)n=r[t],e.touch0&&e.touch0[2]===n.identifier?delete e.touch0:e.touch1&&e.touch1[2]===n.identifier&&delete e.touch1;e.touch1&&!e.touch0&&(e.touch0=e.touch1,delete e.touch1),e.touch0?e.touch0[1]=this.__zoom.invert(e.touch0[0]):e.end()}var O,N,z=s,j=f,I=v,A=p,R=d,D=[0,1/0],L=[[-(1/0),-(1/0)],[1/0,1/0]],F=250,q=r.interpolateZoom,G=[],W=n.dispatch("start","zoom","end"),B=500,H=150,Y=0;return t.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",h),t!==e?E(t,n):e.interrupt().each(function(){b(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},t.scaleBy=function(n,e){t.scaleTo(n,function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n})},t.scaleTo=function(n,e){t.transform(n,function(){var t=j.apply(this,arguments),n=this.__zoom,r=w(t),o=n.invert(r),i="function"==typeof e?e.apply(this,arguments):e;return I(_(c(n,i),r,o),t,L)})},t.translateBy=function(n,e,r){t.transform(n,function(){return I(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof r?r.apply(this,arguments):r),j.apply(this,arguments),L)})},t.translateTo=function(n,e,r){t.transform(n,function(){var t=j.apply(this,arguments),n=this.__zoom,o=w(t);return I(m.translate(o[0],o[1]).scale(n.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof r?-r.apply(this,arguments):-r),t,L)})},M.prototype={start:function(){return 1===++this.active&&(this.index=G.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0===--this.active&&(G.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(n){o.customEvent(new u(t,n,this.that.__zoom),W.apply,W,[n,this.that,this.args])}},t.wheelDelta=function(n){return arguments.length?(A="function"==typeof n?n:g(+n),t):A},t.filter=function(n){return arguments.length?(z="function"==typeof n?n:g(!!n),t):z},t.touchable=function(n){return arguments.length?(R="function"==typeof n?n:g(!!n),t):R},t.extent=function(n){return arguments.length?(j="function"==typeof n?n:g([[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]]),t):j},t.scaleExtent=function(n){return arguments.length?(D[0]=+n[0],D[1]=+n[1],t):[D[0],D[1]]},t.translateExtent=function(n){return arguments.length?(L[0][0]=+n[0][0],L[1][0]=+n[1][0],L[0][1]=+n[0][1],L[1][1]=+n[1][1],t):[[L[0][0],L[0][1]],[L[1][0],L[1][1]]]},t.constrain=function(n){return arguments.length?(I=n,t):I},t.duration=function(n){return arguments.length?(F=+n,t):F},t.interpolate=function(n){return arguments.length?(q=n,t):q},t.on=function(){var n=W.on.apply(W,arguments);return n===W?t:n},t.clickDistance=function(n){return arguments.length?(Y=(n=+n)*n,t):Math.sqrt(Y)},t};t.zoom=_,t.zoomTransform=c,t.zoomIdentity=m,Object.defineProperty(t,"__esModule",{value:!0})})},505:function(t,n,e){!function(t,e){e(n)}(this,function(t){"use strict";function n(t,n){var r=n.id,o=n.bbox,i=null==n.properties?{}:n.properties,u=e(t,n);return null==r&&null==o?{type:"Feature",properties:i,geometry:u}:null==o?{type:"Feature",id:r,properties:i,geometry:u}:{type:"Feature",id:r,bbox:o,properties:i,geometry:u}}function e(t,n){function e(t,n){n.length&&n.pop();for(var e=f[t<0?~t:t],r=0,o=e.length;r<o;++r)n.push(l(e[r],r));t<0&&s(n,o)}function r(t){return l(t)}function o(t){for(var n=[],r=0,o=t.length;r<o;++r)e(t[r],n);return n.length<2&&n.push(n[0]),
n}function i(t){for(var n=o(t);n.length<4;)n.push(n[0]);return n}function u(t){return t.map(i)}function a(t){var n,e=t.type;switch(e){case"GeometryCollection":return{type:e,geometries:t.geometries.map(a)};case"Point":n=r(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(r);break;case"LineString":n=o(t.arcs);break;case"MultiLineString":n=t.arcs.map(o);break;case"Polygon":n=u(t.arcs);break;case"MultiPolygon":n=t.arcs.map(u);break;default:return null}return{type:e,coordinates:n}}var l=c(t.transform),f=t.arcs;return a(n)}function r(t,n,e){var r,i,u;if(arguments.length>1)r=o(t,n,e);else for(i=0,r=new Array(u=t.arcs.length);i<u;++i)r[i]=i;return{type:"MultiLineString",arcs:h(t,r)}}function o(t,n,e){function r(t){var n=t<0?~t:t;(s[n]||(s[n]=[])).push({i:t,g:c})}function o(t){t.forEach(r)}function i(t){t.forEach(o)}function u(t){t.forEach(i)}function a(t){switch(c=t,t.type){case"GeometryCollection":t.geometries.forEach(a);break;case"LineString":o(t.arcs);break;case"MultiLineString":case"Polygon":i(t.arcs);break;case"MultiPolygon":u(t.arcs)}}var c,l=[],s=[];return a(n),s.forEach(null==e?function(t){l.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&l.push(t[0].i)}),l}function i(t){for(var n,e=-1,r=t.length,o=t[r-1],i=0;++e<r;)n=o,o=t[e],i+=n[0]*o[1]-n[1]*o[0];return Math.abs(i)}function u(t,n){function r(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(r);break;case"Polygon":o(t.arcs);break;case"MultiPolygon":t.arcs.forEach(o)}}function o(t){t.forEach(function(n){n.forEach(function(n){(a[n=n<0?~n:n]||(a[n]=[])).push(t)})}),c.push(t)}function u(n){return i(e(t,{type:"Polygon",arcs:[n]}).coordinates[0])}var a={},c=[],l=[];return n.forEach(r),c.forEach(function(t){if(!t._){var n=[],e=[t];for(t._=1,l.push(n);t=e.pop();)n.push(t),t.forEach(function(t){t.forEach(function(t){a[t<0?~t:t].forEach(function(t){t._||(t._=1,e.push(t))})})})}}),c.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:l.map(function(n){var e,r=[];if(n.forEach(function(t){t.forEach(function(t){t.forEach(function(t){a[t<0?~t:t].length<2&&r.push(t)})})}),r=h(t,r),(e=r.length)>1)for(var o,i,c=1,l=u(r[0]);c<e;++c)(o=u(r[c]))>l&&(i=r[0],r[0]=r[c],r[c]=i,l=o);return r})}}var a=function(t){return t},c=function(t){if(null==t)return a;var n,e,r=t.scale[0],o=t.scale[1],i=t.translate[0],u=t.translate[1];return function(t,a){a||(n=e=0);var c=2,l=t.length,s=new Array(l);for(s[0]=(n+=t[0])*r+i,s[1]=(e+=t[1])*o+u;c<l;)s[c]=t[c],++c;return s}},l=function(t){function n(t){t=o(t),t[0]<i&&(i=t[0]),t[0]>a&&(a=t[0]),t[1]<u&&(u=t[1]),t[1]>l&&(l=t[1])}function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Point":n(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(n)}}var r,o=c(t.transform),i=1/0,u=i,a=-i,l=-i;t.arcs.forEach(function(t){for(var n,e=-1,r=t.length;++e<r;)n=o(t[e],e),n[0]<i&&(i=n[0]),n[0]>a&&(a=n[0]),n[1]<u&&(u=n[1]),n[1]>l&&(l=n[1])});for(r in t.objects)e(t.objects[r]);return[i,u,a,l]},s=function(t,n){for(var e,r=t.length,o=r-n;o<--r;)e=t[o],t[o++]=t[r],t[r]=e},f=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return n(t,e)})}:n(t,e)},h=function(t,n){function e(n){var e,r=t.arcs[n<0?~n:n],o=r[0];return t.transform?(e=[0,0],r.forEach(function(t){e[0]+=t[0],e[1]+=t[1]})):e=r[r.length-1],n<0?[e,o]:[o,e]}function r(t,n){for(var e in t){var r=t[e];delete n[r.start],delete r.start,delete r.end,r.forEach(function(t){o[t<0?~t:t]=1}),a.push(r)}}var o={},i={},u={},a=[],c=-1;return n.forEach(function(e,r){var o,i=t.arcs[e<0?~e:e];i.length<3&&!i[1][0]&&!i[1][1]&&(o=n[++c],n[c]=e,n[r]=o)}),n.forEach(function(t){var n,r,o=e(t),a=o[0],c=o[1];if(n=u[a])if(delete u[n.end],n.push(t),n.end=c,r=i[c]){delete i[r.start];var l=r===n?n:n.concat(r);i[l.start=n.start]=u[l.end=r.end]=l}else i[n.start]=u[n.end]=n;else if(n=i[c])if(delete i[n.start],n.unshift(t),n.start=a,r=u[a]){delete u[r.end];var s=r===n?n:r.concat(n);i[s.start=r.start]=u[s.end=n.end]=s}else i[n.start]=u[n.end]=n;else n=[t],i[n.start=a]=u[n.end=c]=n}),r(u,i),r(i,u),n.forEach(function(t){o[t<0?~t:t]||a.push([t])}),a},p=function(t){return e(t,r.apply(this,arguments))},d=function(t){return e(t,u.apply(this,arguments))},v=function(t,n){for(var e=0,r=t.length;e<r;){var o=e+r>>>1;t[o]<n?e=o+1:r=o}return e},g=function(t){function n(t,n){t.forEach(function(t){t<0&&(t=~t);var e=o[t];e?e.push(n):o[t]=[n]})}function e(t,e){t.forEach(function(t){n(t,e)})}function r(t,n){"GeometryCollection"===t.type?t.geometries.forEach(function(t){r(t,n)}):t.type in u&&u[t.type](t.arcs,n)}var o={},i=t.map(function(){return[]}),u={LineString:n,MultiLineString:e,Polygon:e,MultiPolygon:function(t,n){t.forEach(function(t){e(t,n)})}};t.forEach(r);for(var a in o)for(var c=o[a],l=c.length,s=0;s<l;++s)for(var f=s+1;f<l;++f){var h,p=c[s],d=c[f];(h=i[p])[a=v(h,d)]!==d&&h.splice(a,0,d),(h=i[d])[a=v(h,p)]!==p&&h.splice(a,0,p)}return i},m=function(t){if(null==t)return a;var n,e,r=t.scale[0],o=t.scale[1],i=t.translate[0],u=t.translate[1];return function(t,a){a||(n=e=0);var c=2,l=t.length,s=new Array(l),f=Math.round((t[0]-i)/r),h=Math.round((t[1]-u)/o);for(s[0]=f-n,n=f,s[1]=h-e,e=h;c<l;)s[c]=t[c],++c;return s}},y=function(t,n){function e(t){return p(t)}function r(t){var n;switch(t.type){case"GeometryCollection":n={type:"GeometryCollection",geometries:t.geometries.map(r)};break;case"Point":n={type:"Point",coordinates:e(t.coordinates)};break;case"MultiPoint":n={type:"MultiPoint",coordinates:t.coordinates.map(e)};break;default:return t}return null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),null!=t.properties&&(n.properties=t.properties),n}function o(t){var n,e=0,r=1,o=t.length,i=new Array(o);for(i[0]=p(t[0],0);++e<o;)((n=p(t[e],e))[0]||n[1])&&(i[r++]=n);return 1===r&&(i[r++]=[0,0]),i.length=r,i}if(t.transform)throw new Error("already quantized");if(n&&n.scale)f=t.bbox;else{if(!((i=Math.floor(n))>=2))throw new Error("n must be 2");f=t.bbox||l(t);var i,u=f[0],a=f[1],c=f[2],s=f[3];n={scale:[c-u?(c-u)/(i-1):1,s-a?(s-a)/(i-1):1],translate:[u,a]}}var f,h,p=m(n),d=t.objects,v={};for(h in d)v[h]=r(d[h]);return{type:"Topology",bbox:f,transform:n,objects:v,arcs:t.arcs.map(o)}};t.bbox=l,t.feature=f,t.mesh=p,t.meshArcs=r,t.merge=d,t.mergeArcs=u,t.neighbors=g,t.quantize=y,t.transform=c,t.untransform=m,Object.defineProperty(t,"__esModule",{value:!0})})},299:function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}n.__esModule=!0;var a=e(1),c=r(a),l=e(366),s=e(23),f=e(2),h=r(f),p=e(303),d=r(p),v=function(t){function n(e){o(this,n);var r=i(this,t.call(this,e));return r.onZoomHandler=function(){"zoom"===s.event.type&&r.setState({transform:s.event.transform})},r.showToolTipInfo=function(t){var n=r.props.showToolTip;n(t)},r.hideToolTipInfo=function(){var t=r.props.hideToolTip;t()},r.state={transform:null},r}return u(n,t),n.prototype.componentDidMount=function(){(0,s.select)(this.worldmap).call((0,l.zoom)().scaleExtent([.5,10]).on("zoom",this.onZoomHandler))},n.prototype.render=function(){var t=this,n=this.props,e=n.globeData,r=n.meteorsInfo,o=n.svgWidth,i=n.svgHeight,u=this.state.transform;return c.default.createElement("svg",{width:o,height:i,ref:function(n){t.worldmap=n},viewBox:"0 0 "+o+" "+i,preserveAspectRatio:"xMidYMid meet"},c.default.createElement("g",{transform:null!==u?"translate("+u.x+", "+u.y+") scale("+u.k+")":null},c.default.createElement(d.default,{width:o,height:500,world:e,meteorfall:r,pointEnter:this.showToolTipInfo,pointExit:this.hideToolTipInfo})))},n}(a.Component);v.propTypes={svgWidth:h.default.number,svgHeight:h.default.number,globeData:h.default.arrayOf(h.default.shape({dpath:h.default.string,fillInfo:h.default.string})),meteorsInfo:h.default.arrayOf(h.default.shape({date:h.default.string,fillOp:h.default.number,latitude:h.default.number,longitude:h.default.number,mass:h.default.number,name:h.default.string,radius:h.default.number,meteorClass:h.default.string}))},n.default=v,t.exports=n.default},300:function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}n.__esModule=!0;var a=e(363),c=e(1),l=r(c),s=e(505),f=e(74),h=r(f),p=e(75),d=r(p),v=e(299),g=r(v),m=e(302),y=r(m),_=e(240),w=r(_),E=function(t){function n(){o(this,n);var e=i(this,t.call(this));return e.setChartWidth=function(t){return.8*t},e.calculateRadius=function(t){var n=179687.5;switch(!0){case t<=n:return 2;case t<=2*n:return 4;case t<=3*n:return 6;case t<=20*n:return 8;case t<=100*n:return 8;default:return 12}},e.updateMap=function(){var t=e.state,n=t.mapData,r=t.meteorData,o=n.map(function(t,r){return{dpath:(0,a.geoPath)().projection(e.project())(t),fillInfo:"rgba(38,50,56,"+1/n.length*r+")"}}),i=r.map(function(t,n){return{name:t.properties.name,mass:parseInt(t.properties.mass),date:t.properties.year,meteorClass:t.properties.recclass,radius:e.calculateRadius(parseInt(t.properties.mass)),latitude:e.project()([Number(t.properties.reclong),Number(t.properties.reclat)])[0],longitude:e.project()([Number(t.properties.reclong),Number(t.properties.reclat)])[1],fillOp:parseInt(t.properties.mass)<=179687.5?1:.5}});e.setState({meteors:i,globeMap:o})},e.setChartDimensions=function(){var t=e.state.chartWidth,n=0,r=0;e.chartContainer?(n=e.chartContainer.getBoundingClientRect().width,r=e.chartContainer.getBoundingClientRect().height,n=e.chartContainer.getBoundingClientRect().width<=768?e.setChartWidth(e.chartContainer.getBoundingClientRect().width):e.chartContainer.getBoundingClientRect().width,r=e.chartContainer.getBoundingClientRect().width<=768?e.setChartWidth(e.chartContainer.getBoundingClientRect().height):e.chartContainer.getBoundingClientRect().height,n!==t&&e.setState({chartWidth:n,chartHeight:r})):(n=window.innerWidth>=960?900:window.innerWidth,r=e.setChartWidth(window.innerHeight),n!==t&&e.setState({chartWidth:n,chartHeight:r})),e.updateMap},e.activateToolTip=function(t){e.setState({isToolTipActive:!0,meteorInfo:t})},e.disableToolTip=function(){e.setState({isToolTipActive:!1,meteorInfo:{}})},e.handlePreloadShutdown=function(){e.setState({isLoading:!1})},e.state={isLoading:!0,isError:!1,meteors:[],globeMap:[],isToolTipActive:!1,meteorInfo:{},chartWidth:0,chartHeight:0,mapData:[],meteorData:[]},e}return u(n,t),n.prototype.componentDidMount=function(){var t=this;"undefined"!=typeof window&&(this.setChartDimensions(),window.addEventListener("resize",this.setChartDimensions)),setTimeout(function(){var n=JSON.parse(h.default.getStorageData("globeMap")),e=JSON.parse(h.default.getStorageData("meteors"));if(n){var r=n.map(function(e,r){return{dpath:(0,a.geoPath)().projection(t.project())(e),fillInfo:"rgba(38,50,56,"+1/n.length*r+")"}}),o=e.map(function(n,e){return{name:n.properties.name,mass:parseInt(n.properties.mass),date:n.properties.year,meteorClass:n.properties.recclass,radius:t.calculateRadius(parseInt(n.properties.mass)),latitude:t.project()([Number(n.properties.reclong),Number(n.properties.reclat)])[0],longitude:t.project()([Number(n.properties.reclong),Number(n.properties.reclat)])[1],fillOp:parseInt(n.properties.mass)<=179687.5?1:.5}});t.setState(function(t){var i;return i={globeMap:n,meteors:e},i.meteors=o,i.globeMap=r,i})}else t.fetchData(),t.fetchDataMeteor()},2500)},n.prototype.componentWillUnmount=function(){"undefined"!=typeof window&&window.removeEventListener("resize",this.setChartDimensions)},n.prototype.project=function(){var t=this.state,n=t.chartWidth,e=t.chartHeight;return n<768?(0,a.geoMercator)().scale(n).translate([n/2,e/2]):(0,a.geoMercator)().scale(100).translate([n/2,e/2])},n.prototype.fetchDataMeteor=function(){var t=this;fetch("https://data.nasa.gov/resource/y77d-th95.geojson").then(function(t){return t.json()}).then(function(n){var e=n.features.map(function(n,e){return{name:n.properties.name,mass:parseInt(n.properties.mass),date:n.properties.year,meteorClass:n.properties.recclass,radius:t.calculateRadius(parseInt(n.properties.mass)),latitude:t.project()([Number(n.properties.reclong),Number(n.properties.reclat)])[0],longitude:t.project()([Number(n.properties.reclong),Number(n.properties.reclat)])[1],fillOp:parseInt(n.properties.mass)<=179687.5?1:.5}});h.default.setStorageData("meteors",n.features),t.setState({meteors:e,meteorData:n.features})}).catch(function(n){console.log("===================================="),console.log("error getting the meteors data:"+JSON.stringify(n,null,2)),console.log("===================================="),t.setState({isError:!0})})},n.prototype.fetchData=function(){var t=this;fetch("https://d3js.org/world-50m.v1.json").then(function(t){return t.json()}).then(function(n){var e=(0,s.feature)(n,n.objects.countries).features,r=e.map(function(n,r){return{dpath:(0,a.geoPath)().projection(t.project())(n),fillInfo:"rgba(38,50,56,"+1/e.length*r+")"}});h.default.setStorageData("globeMap",e),t.setState({globeMap:r,mapData:e})}).catch(function(n){console.log("===================================="),console.log("error getting the chart data:"+JSON.stringify(n,null,2)),console.log("===================================="),t.setState({isError:!0})})},n.prototype.render=function(){var t=this,n=this.state,e=n.isError,r=n.isLoading,o=n.globeMap,i=n.meteors,u=n.isToolTipActive,a=n.meteorInfo,c=n.chartWidth,s=n.chartHeight;return e?l.default.createElement("div",{className:w.default.globeTitle},"Lights up the sirens.....Something went wrong"):r?l.default.createElement(d.default,{chartName:"world",turnDownPreload:this.handlePreloadShutdown}):o.length?l.default.createElement("div",{ref:function(n){t.chartContainer=n}},l.default.createElement("div",{className:w.default.globeTitle},"Meteor hits across the globe"),l.default.createElement("div",{className:w.default.containerGlobe},l.default.createElement("div",null,l.default.createElement(g.default,{svgWidth:c,svgHeight:s,globeData:o,meteorsInfo:i,showToolTip:this.activateToolTip,hideToolTip:this.disableToolTip})),l.default.createElement("div",null,l.default.createElement(y.default,{data:u?a:null})))):void 0},n}(c.Component);n.default=E,t.exports=n.default},301:function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}n.__esModule=!0;var a=e(1),c=r(a),l=e(2),s=r(l),f=function(t){function n(){var e,r,u;o(this,n);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return e=r=i(this,t.call.apply(t,[this].concat(c))),r.onEnter=function(){var t=r.props,n=t.data,e=t.meteorPointEnter;e({name:n.meteorname,meteorclass:n.meteorclass,dateofhit:n.datefell.substring(0,4),meteormass:n.mass,latitude:Number(n.rectangleLat).toFixed(4),longitude:Number(n.rectangleLong).toFixed(4)})},r.onExit=function(){var t=r.props.meteorPointExit;t()},u=e,i(r,u)}return u(n,t),n.prototype.render=function(){var t=this.props.data;return c.default.createElement("circle",{key:"marker_"+t.circleId+" ",fill:"#E91E63",fillOpacity:t.circleFill,stroke:"#FFFFFF",className:"marker",cx:t.rectangleLat,cy:t.rectangleLong,r:t.circleArea,onMouseOver:this.onEnter,onMouseOut:this.onExit})},n}(a.PureComponent);f.propTypes={data:s.default.shape({meteorname:s.default.string,meteorclass:s.default.string,datefell:s.default.string,mass:s.default.number,rectangleLat:s.default.number,rectangleLong:s.default.number,circleId:s.default.number,circleArea:s.default.number,circleFill:s.default.number}),meteorPointEnter:s.default.func,meteorPointExit:s.default.func},n.default=f,t.exports=n.default},302:function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(2),i=r(o),u=e(1),a=r(u),c=e(240),l=r(c),s=function(){return a.default.createElement("p",null,a.default.createElement("span",{className:l.default.tooltipText},"Mouse over map to show information"))},f=function(t){return a.default.createElement("p",null,a.default.createElement("span",{className:l.default.tooltipText},"In ",t.dateofhit," a meteor with mass of ",t.meteormass," and class ",t.meteorclass," fell on latitude ",t.latitude," longitude ",t.longitude))},h=function(t){var n=t.data;return a.default.createElement("div",{className:l.default.containerToolTip},n?f(n):s())};h.propTypes={data:i.default.shape({name:i.default.string,meteorclass:i.default.string,dateofhit:i.default.string,meteormass:i.default.number,latitude:i.default.string,longitude:i.default.string})},n.default=h,t.exports=n.default},303:function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}n.__esModule=!0;var a=e(2),c=r(a),l=e(1),s=r(l),f=e(301),h=r(f),p=function(t){function n(){var e,r,u;o(this,n);for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];return e=r=i(this,t.call.apply(t,[this].concat(c))),r.onPointHover=function(t){var n=r.props.pointEnter;n(t)},r.onPointLeave=function(){var t=r.props.pointExit;t()},u=e,i(r,u)}return u(n,t),n.prototype.render=function(){var t=this,n=this.props,e=n.world,r=n.meteorfall,o=e.map(function(t,n){return s.default.createElement("path",{key:"path:"+n,d:t.dpath,fill:t.fillInfo,stroke:"#FFFFFF",strokeWidth:.5})}),i=r.map(function(n,e){return s.default.createElement(h.default,{key:"mpoint_"+e,data:{meteorname:n.name,meteorclass:n.meteorClass,datefell:n.date,mass:n.mass,rectangleLat:n.latitude,rectangleLong:n.longitude,circleId:e,circleArea:n.radius,circleFill:n.fillOp},meteorPointEnter:t.onPointHover,meteorPointExit:t.onPointLeave})});return s.default.createElement("g",null,o,i)},n}(l.PureComponent);p.propTypes={world:c.default.arrayOf(c.default.shape({dpath:c.default.string,fillInfo:c.default.string})),meteorfall:c.default.arrayOf(c.default.shape({date:c.default.string,fillOp:c.default.number,latitude:c.default.number,longitude:c.default.number,mass:c.default.number,name:c.default.string,radius:c.default.number,meteorClass:c.default.string}))},n.default=p,t.exports=n.default},240:function(t,n){t.exports={containerGlobe:"src-components-Challenges-GlobeChartView----globe-style-module---containerGlobe---3awqv",globeTitle:"src-components-Challenges-GlobeChartView----globe-style-module---globeTitle---clqfa",tooltipText:"src-components-Challenges-GlobeChartView----globe-style-module---tooltipText---1ZgBU",containerToolTip:"src-components-Challenges-GlobeChartView----globe-style-module---containerToolTip---2qW53"}},329:function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(1),i=r(o),u=e(300),a=r(u),c=function(){return i.default.createElement("div",null,i.default.createElement(a.default,null))};n.default=c,t.exports=n.default}});
//# sourceMappingURL=component---src-pages-globeview-js-6ad1a2bd2230a4beef8d.js.map