webpackJsonp([51458995684152],{99:function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return"translate("+(t+.5)+",0)"}function n(t){return"translate(0,"+(t+.5)+")"}function a(t){return function(e){return+t(e)}}function r(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function o(){return!this.__axis}function i(t,i){function l(e){var n=null==u?i.ticks?i.ticks.apply(i,s):i.domain():u,l=null==c?i.tickFormat?i.tickFormat.apply(i,s):d:c,f=Math.max(b,0)+w,E=i.range(),T=+E[0]+.5,C=+E[E.length-1]+.5,M=(i.bandwidth?r:a)(i.copy()),D=e.selection?e.selection():e,O=D.selectAll(".domain").data([null]),P=D.selectAll(".tick").data(n,i).order(),N=P.exit(),L=P.enter().append("g").attr("class","tick"),A=P.select("line"),j=P.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),P=P.merge(L),A=A.merge(L.append("line").attr("stroke","#000").attr(S+"2",_*b)),j=j.merge(L.append("text").attr("fill","#000").attr(S,_*f).attr("dy",t===p?"0em":t===m?"0.71em":"0.32em")),e!==D&&(O=O.transition(e),P=P.transition(e),A=A.transition(e),j=j.transition(e),N=N.transition(e).attr("opacity",y).attr("transform",function(t){return isFinite(t=M(t))?x(t):this.getAttribute("transform")}),L.attr("opacity",y).attr("transform",function(t){var e=this.parentNode.__axis;return x(e&&isFinite(e=e(t))?e:M(t))})),N.remove(),O.attr("d",t===g||t==h?"M"+_*v+","+T+"H0.5V"+C+"H"+_*v:"M"+T+","+_*v+"V0.5H"+C+"V"+_*v),P.attr("opacity",1).attr("transform",function(t){return x(M(t))}),A.attr(S+"2",_*b),j.attr(S,_*f).text(l),D.filter(o).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===h?"start":t===g?"end":"middle"),D.each(function(){this.__axis=M})}var s=[],u=null,c=null,b=6,v=6,w=3,_=t===p||t===g?-1:1,S=t===g||t===h?"x":"y",x=t===p||t===m?e:n;return l.scale=function(t){return arguments.length?(i=t,l):i},l.ticks=function(){return s=f.call(arguments),l},l.tickArguments=function(t){return arguments.length?(s=null==t?[]:f.call(t),l):s.slice()},l.tickValues=function(t){return arguments.length?(u=null==t?null:f.call(t),l):u&&u.slice()},l.tickFormat=function(t){return arguments.length?(c=t,l):c},l.tickSize=function(t){return arguments.length?(b=v=+t,l):b},l.tickSizeInner=function(t){return arguments.length?(b=+t,l):b},l.tickSizeOuter=function(t){return arguments.length?(v=+t,l):v},l.tickPadding=function(t){return arguments.length?(w=+t,l):w},l}function l(t){return i(p,t)}function s(t){return i(h,t)}function u(t){return i(m,t)}function c(t){return i(g,t)}var f=Array.prototype.slice,d=function(t){return t},p=1,h=2,m=3,g=4,y=1e-6;t.axisTop=l,t.axisRight=s,t.axisBottom=u,t.axisLeft=c,Object.defineProperty(t,"__esModule",{value:!0})})},302:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=n(33),s=n(2),u=a(s),c=n(1),f=a(c),d=n(303),p=a(d),h=n(307),m=a(h),g=function(t){function e(){var n,a,i;r(this,e);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,t.call.apply(t,[this].concat(s))),a.onHoverHandler=function(t){var e=a.props.scatterEnter;e(t)},a.onLeaveHandler=function(){var t=a.props.scatterLeave;t()},i=n,o(a,i)}return i(e,t),e.prototype.render=function(){var t=this.props,e=t.dataChart,n=t.svgWidth,a={top:30,right:20,bottom:20,left:20},r={width:Math.max(n,300),height:450},o=(0,l.scaleLinear)().domain([210,0]).range([a.left,r.width-a.right]),i=(0,l.scaleLinear)().domain([36,1]).range([r.height-a.bottom,a.top]);return f.default.createElement("svg",{width:r.width,height:r.height,viewBox:"0 0 "+r.width+" "+r.height,preserveAspectRatio:"xMidYMid meet"},f.default.createElement(p.default,{scales:{xScale:o,yScale:i},margins:a,svgDimensions:r}),f.default.createElement(m.default,{scales:{xScale:o,yScale:i},scatterData:e,margins:a,svgDimensions:r,PointMouseEnter:this.onHoverHandler,PointMouseLeave:this.onLeaveHandler}))},e}(c.Component);g.propTypes={dataChart:u.default.arrayOf(u.default.shape({Time:u.default.string,Place:u.default.number,Seconds:u.default.number,Name:u.default.string,Year:u.default.number,Nationality:u.default.string,URL:u.default.string,Doping:u.default.string,behind:u.default.number})),svgWidth:u.default.number,scatterEnter:u.default.func,scatterLeave:u.default.func},e.default=g,t.exports=e.default},303:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(1),o=a(r),i=n(2),l=a(i),s=n(304),u=a(s),c=function(t){var e=t.scales,n=t.margins,a=t.svgDimensions,r=a.height,i=a.width,l={orient:"Bottom",scale:e.xScale,translate:"translate(0, "+(r-n.bottom+2)+")",tickSize:r-n.top-n.bottom},s={orient:"Left",scale:e.yScale,translate:"translate("+n.left+", 0)",tickSize:i-n.left-n.right};return o.default.createElement("g",null,o.default.createElement(u.default,l),o.default.createElement(u.default,s))};c.propTypes={scales:l.default.shape({yScale:l.default.func,xScale:l.default.func}),margins:l.default.shape({top:l.default.number,right:l.default.number,bottom:l.default.number,left:l.default.number}),svgDimensions:l.default.shape({width:l.default.number,height:l.default.number})},e.default=c,t.exports=e.default},304:function(t,e,n){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(1),u=r(s),c=n(2),f=r(c),d=n(99),p=a(d),h=n(21),m=n(195),g=r(m),y=function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return l(e,t),e.prototype.componentDidMount=function(){this.renderAxis()},e.prototype.componentDidUpdate=function(){this.renderAxis()},e.prototype.renderAxis=function(){var t=this.props,e=t.orient,n=t.scale,a="axis"+e,r=p[a]().scale(n).ticks("Bottom"===e?[6]:[8]);(0,h.select)(this.axisElement).call(r)},e.prototype.render=function(){var t=this,e=this.props,n=e.translate,a=e.orient;return u.default.createElement("g",{className:g.default.Axis+" "+g.default.Axis+"-"+a,ref:function(e){t.axisElement=e},transform:n})},e}(s.Component);y.propTypes={orient:f.default.string,scale:f.default.func,translate:f.default.string},e.default=y,t.exports=e.default},305:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=n(1),s=a(l),u=n(77),c=a(u),f=n(59),d=a(f),p=n(37),h=a(p),m=n(302),g=a(m),y=n(308),b=a(y),v=n(195),w=a(v),_=function(t){function e(){r(this,e);var n=o(this,t.call(this));return n.onToolTipHide=function(){n.setState({isTooltipActive:!1,tooltipData:{}})},n.onToolTipShow=function(t){n.setState({isTooltipActive:!0,tooltipData:t})},n.setChartWidth=function(t){return.8*t},n.setChartDimensions=function(){var t=n.state.chartWidth,e=0;n.chartContainer?(e=n.chartContainer.getBoundingClientRect().width,e=n.chartContainer.getBoundingClientRect().width<=768?n.setChartWidth(n.chartContainer.getBoundingClientRect().width):n.chartContainer.getBoundingClientRect().width,e!==t&&n.setState({chartWidth:e})):(e=window.innerWidth>=960?900:window.innerWidth,e!==t&&n.setState({chartWidth:e}))},n.handlePreloadShutdown=function(){n.setState({isLoading:!1})},n.state={isLoading:!0,isError:!1,fullchartData:[],isTooltipActive:!1,tooltipData:{},chartWidth:0},n}return i(e,t),e.prototype.componentDidMount=function(){var t=this;"undefined"!=typeof window&&(this.setChartDimensions(),window.addEventListener("resize",this.setChartDimensions)),setTimeout(function(){var e=JSON.parse(c.default.getStorageData("scatterData"));if(e){e.map(function(t){return{Doping:t.Doping,Name:t.Name,Nationality:t.Nationality,Place:t.Place,Seconds:t.Seconds,Time:t.Time,URL:t.URL,Year:t.Year}});t.setState({fullchartData:e})}else t.fetchData()},2500)},e.prototype.componentWillUnmount=function(){"undefined"!=typeof window&&window.removeEventListener("resize",this.setChartDimensions)},e.prototype.fetchData=function(){var t=this;fetch("https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/cyclist-data.json").then(function(t){return t.json()}).then(function(e){var n=2210,a=e.map(function(t){return{Time:t.Time,Place:t.Place,Seconds:t.Seconds,Name:t.Name,Year:t.Year,Nationality:t.Nationality,Doping:""===t.Doping?"No Allegations":"Doping Allegations",URL:t.URL,behind:t.Seconds-n}});c.default.setStorageData("scatterData",a),t.setState({fullchartData:a})}).catch(function(e){console.log("===================================="),console.log("error getting the chart data:"+JSON.stringify(e,null,2)),console.log("===================================="),t.setState({isError:!0})})},e.prototype.render=function(){var t=this,e=this.state,n=e.isError,a=e.isLoading,r=e.fullchartData,o=e.isTooltipActive,i=e.tooltipData,l=e.chartWidth;return n?s.default.createElement(d.default,null):a?s.default.createElement(h.default,{chartName:"scatter",turnDownPreload:this.handlePreloadShutdown}):r.length?s.default.createElement("div",{ref:function(e){t.chartContainer=e}},s.default.createElement("div",{className:w.default.scatterTitle},"Doping in Professional Bicycle Racing"),s.default.createElement("div",{className:w.default.containerScatter},s.default.createElement("div",{className:w.default.scattercontainerChart},s.default.createElement(g.default,{dataChart:r,scatterLeave:this.onToolTipHide,scatterEnter:this.onToolTipShow,svgWidth:l})),s.default.createElement("div",null,s.default.createElement(b.default,{data:o?i.data:null}))),s.default.createElement("div",{className:w.default.scatterText},"35 Fastest times up Alpe d'Huez",s.default.createElement("br",null),"Normalized to 13.8km distance")):void 0},e}(l.Component);e.default=_,t.exports=e.default},306:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=n(2),s=a(l),u=n(1),c=a(u),f=function(t){function e(){var n,a,i;r(this,e);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,t.call.apply(t,[this].concat(s))),a.onMouseOver=function(){var t=a.props,e=t.scatterItem,n=t.scatterPointMouseEnter;n({data:e})},a.onMouseOut=function(){a.props.scatterPointMouseLeave()},i=n,o(a,i)}return i(e,t),e.prototype.render=function(){var t=this.props,e=t.scatterItem,n=t.pos;return c.default.createElement("circle",{key:"item_"+e.Seconds+"_"+e.Place+"_"+e.Nationality,r:5,cx:n.x,cy:n.y,fill:"Doping Allegations"===e.Doping?"#ed0909":"#6caeac",onMouseOver:this.onMouseOver,onFocus:this.onMouseOver,onMouseOut:this.onMouseOut,onBlur:this.onMouseOut})},e}(u.Component);f.propTypes={pos:s.default.shape({x:s.default.number,y:s.default.number}),scatterItem:s.default.shape({Doping:s.default.string,Name:s.default.string,Nationality:s.default.string,Place:s.default.number,Seconds:s.default.number,Time:s.default.string,URL:s.default.string,Year:s.default.number,behind:s.default.number}),scatterPointMouseEnter:s.default.func,scatterPointMouseLeave:s.default.func},e.default=f,t.exports=e.default},307:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var l=n(1),s=a(l),u=n(2),c=a(u),f=n(306),d=a(f),p=function(t){function e(){var n,a,i;r(this,e);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=o(this,t.call.apply(t,[this].concat(s))),a.scatterOnMouseEnter=function(t){var e=a.props.PointMouseEnter;e(t)},a.scatterOnMouseLeave=function(){a.props.PointMouseLeave()},i=n,o(a,i)}return i(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.scales,a=e.scatterData,r=n.xScale,o=n.yScale,i=a.map(function(e){return s.default.createElement(d.default,{key:"Points_"+e.Seconds+"_"+e.Place+"_"+e.Nationality,scatterItem:e,pos:{x:r(e.behind),y:o(e.Place)},scatterPointMouseEnter:t.scatterOnMouseEnter,scatterPointMouseLeave:t.scatterOnMouseLeave})});return s.default.createElement("g",null,i)},e}(l.Component);p.propTypes={PointMouseEnter:c.default.func,PointMouseLeave:c.default.func,scales:c.default.shape({xScale:c.default.func,yScale:c.default.func}),scatterData:c.default.arrayOf(c.default.shape({Doping:c.default.string,Name:c.default.string,Nationality:c.default.string,Place:c.default.number,Seconds:c.default.number,Time:c.default.string,URL:c.default.string,Year:c.default.number,behind:c.default.number}))},e.default=p,t.exports=e.default},308:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(1),o=a(r),i=n(2),l=a(i),s=n(195),u=a(s),c=function(){return o.default.createElement("p",null,o.default.createElement("span",{className:u.default.scattertoolTipText}," ","Mouse over a circle to show information"))},f=function(t){return o.default.createElement("p",null,o.default.createElement("span",{className:u.default.scattertoolTipText},t.Name," from ",t.Nationality," with a time of ",t.Time," ","finished in ",t.Place,"th place.","No Allegations"===t.Doping?"Clean as a whistle":"With doping alegations"))},d=function(t){var e=t.data;return o.default.createElement("div",{className:u.default.scattercontainerToolTip},e?f(e):c())};d.propTypes={data:l.default.shape({Doping:l.default.string,Name:l.default.string,Nationality:l.default.string,Place:l.default.number,Seconds:l.default.number,Time:l.default.string,URL:l.default.string,Year:l.default.number})},e.default=d,t.exports=e.default},195:function(t,e){t.exports={Axis:"src-components-Challenges-ScatterChartView----scatter-style-module---Axis---2RRNr","Axis-Bottom":"src-components-Challenges-ScatterChartView----scatter-style-module---Axis-Bottom---195DS",scatterText:"src-components-Challenges-ScatterChartView----scatter-style-module---scatterText---2hD_c",scatterTitle:"src-components-Challenges-ScatterChartView----scatter-style-module---scatterTitle---2cJVH",scattercontainerToolTip:"src-components-Challenges-ScatterChartView----scatter-style-module---scattercontainerToolTip---2GkA9",scattertoolTipText:"src-components-Challenges-ScatterChartView----scatter-style-module---scattertoolTipText---2GFfp",containerScatter:"src-components-Challenges-ScatterChartView----scatter-style-module---containerScatter---19bt5",scattercontainerChart:"src-components-Challenges-ScatterChartView----scatter-style-module---scattercontainerChart---2gxuI",scatterPreload:"src-components-Challenges-ScatterChartView----scatter-style-module---scatterPreload---2a4hQ"}},330:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(1),o=a(r),i=n(30),l=a(i),s=n(305),u=a(s),c=function(){return o.default.createElement("div",null,o.default.createElement(l.default,{title:"Super Duper Scatter Chart",meta:[{name:"description",content:"freeCodeCamp DataVis Challenges,Scatter Chart"},{name:"keywords",content:"react, gatsby,challenges,d3,scatter chart"},{name:"author",content:"jonniebigodes"}]}),o.default.createElement(u.default,null))};e.default=c,t.exports=e.default}});
//# sourceMappingURL=component---src-pages-viewscatter-js-9e84e95399472e36b914.js.map